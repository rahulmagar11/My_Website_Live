<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rahul Magar | Portfolio</title>
    <meta name="description" content="Portfolio of Rahul Magar - Senior DevOps Engineer & SAS Architect specializing in AWS, Kubernetes, and Automation.">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsdiff/5.1.0/diff.min.js"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: { 
                        sans: ['Outfit', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    },
                    colors: { 
                        primary: { DEFAULT: '#2563EB', dark: '#3B82F6', light: '#60A5FA' },
                        gold: { DEFAULT: '#F59E0B', glow: '#fbbf24', dark: '#d97706' },
                        sas: '#007CC2',
                        neon: '#06b6d4'
                    },
                    boxShadow: {
                        'glow': '0 0 20px rgba(37, 99, 235, 0.6)',
                        'gold-glow': '0 0 25px rgba(245, 158, 11, 0.6), 0 0 10px rgba(251, 191, 36, 0.4)',
                        'glass': '0 8px 32px 0 rgba(31, 38, 135, 0.15)',
                        'neon': '0 0 15px rgba(37, 99, 235, 0.8), 0 0 30px rgba(37, 99, 235, 0.4)',
                        'nav-glow': '0 0 25px rgba(37, 99, 235, 0.25), inset 0 0 0 1px rgba(255, 255, 255, 0.3)',
                    },
                    animation: {
                        'blob': 'blob 10s infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'float-delayed': 'float 7s ease-in-out 1s infinite',
                        'pulse-glow': 'pulseGlow 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'super-pulse': 'superPulse 2s infinite',
                        'scan': 'scan 2s linear infinite',
                        'dance': 'dance 0.6s ease-in-out infinite',
                        'shake': 'shake 0.5s cubic-bezier(.36,.07,.19,.97) both',
                        'rocket-shake': 'rocketShake 0.1s linear infinite',
                        'flame': 'flame 0.1s alternate infinite',
                        'heart-float': 'heartFloat 1s ease-out forwards',
                        'sleep-breath': 'sleepBreath 4s ease-in-out infinite',
                    },
                    keyframes: {
                        blob: {
                            '0%': { transform: 'translate(0px, 0px) scale(1)' },
                            '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
                            '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                            '100%': { transform: 'translate(0px, 0px) scale(1)' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' }, 
                        },
                        pulseGlow: {
                            '0%, 100%': { opacity: 1, boxShadow: '0 0 20px rgba(37, 99, 235, 0.5)' },
                            '50%': { opacity: .8, boxShadow: '0 0 40px rgba(37, 99, 235, 0.8)' }
                        },
                        scan: {
                            '0%': { top: '0%', opacity: 0 },
                            '10%': { opacity: 1 },
                            '90%': { opacity: 1 },
                            '100%': { top: '100%', opacity: 0 }
                        },
                        superPulse: {
                            '0%, 100%': { transform: 'scale(1)', boxShadow: '0 0 0 0 rgba(37, 99, 235, 0.7)' },
                            '70%': { transform: 'scale(1.02)', boxShadow: '0 0 0 15px rgba(37, 99, 235, 0)' }
                        },
                        superGlow: {
                            '0%, 100%': { boxShadow: '0 0 20px rgba(37, 99, 235, 0.6), inset 0 0 10px rgba(37, 99, 235, 0.2)', borderColor: 'rgba(255,255,255,0.8)' },
                            '50%': { boxShadow: '0 0 50px rgba(6, 182, 212, 0.8), inset 0 0 20px rgba(6, 182, 212, 0.4)', borderColor: '#06b6d4' }
                        },
                        dance: {
                            '0%, 100%': { transform: 'translateY(0) rotate(0deg)' },
                            '25%': { transform: 'translateY(-15px) rotate(-15deg)' },
                            '50%': { transform: 'translateY(0) rotate(0deg)' },
                            '75%': { transform: 'translateY(-15px) rotate(15deg)' }
                        },
                        shake: {
                            '10%, 90%': { transform: 'translate3d(-1px, 0, 0)' },
                            '20%, 80%': { transform: 'translate3d(2px, 0, 0)' },
                            '30%, 50%, 70%': { transform: 'translate3d(-4px, 0, 0)' },
                            '40%, 60%': { transform: 'translate3d(4px, 0, 0)' }
                        },
                        rocketShake: {
                            '0%': { transform: 'translate(1px, 1px)' },
                            '10%': { transform: 'translate(-1px, -2px)' },
                            '20%': { transform: 'translate(-3px, 0px)' },
                            '30%': { transform: 'translate(3px, 2px)' },
                            '40%': { transform: 'translate(1px, -1px)' },
                            '50%': { transform: 'translate(-1px, 2px)' },
                            '60%': { transform: 'translate(-3px, 1px)' },
                            '70%': { transform: 'translate(3px, 1px)' },
                            '80%': { transform: 'translate(-1px, -1px)' },
                            '90%': { transform: 'translate(1px, 2px)' },
                            '100%': { transform: 'translate(1px, -2px)' }
                        },
                        flame: {
                            '0%': { height: '40px', transform: 'translateX(-50%) scale(1)' },
                            '100%': { height: '70px', transform: 'translateX(-50%) scale(1.1)' }
                        },
                        heartFloat: {
                            '0%': { transform: 'translateY(0) scale(0.5)', opacity: 1 },
                            '100%': { transform: 'translateY(-50px) scale(1.5)', opacity: 0 }
                        },
                        sleepBreath: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(3px)' }
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* --- Base & Reset --- */
        body { transition: background-color 0.5s ease, color 0.5s ease; overflow-x: hidden; height: 100vh; display: flex; flex-direction: column; }

        /* --- Scroll Progress Bar --- */
        #scroll-progress {
            position: fixed; top: 0; left: 0; height: 4px; background: linear-gradient(90deg, #2563EB, #06b6d4);
            width: 0%; z-index: 9999; transition: width 0.1s ease-out; box-shadow: 0 0 10px #2563EB;
        }

        /* --- Ambient Background --- */
        .ambient-bg {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            z-index: -1; overflow: hidden;
            background: #f8fafc; transition: background 0.5s ease;
        }
        .dark .ambient-bg { background: #020617; }

        .blob-1, .blob-2, .blob-3 {
            position: absolute; border-radius: 50%; filter: blur(80px);
            opacity: 0.6; animation: blob 10s infinite alternate; transition: background 0.5s ease;
        }
        .blob-1 { top: -10%; left: -10%; width: 50vw; height: 50vw; background: #bfdbfe; }
        .blob-2 { bottom: -10%; right: -10%; width: 50vw; height: 50vw; background: #e9d5ff; }
        .blob-3 { top: 40%; left: 40%; width: 40vw; height: 40vw; background: #cffafe; }
        
        .dark .blob-1 { background: #1e3a8a; opacity: 0.3; }
        .dark .blob-2 { background: #4c1d95; opacity: 0.3; }
        .dark .blob-3 { background: #0f766e; opacity: 0.2; }

        /* --- Glassmorphism --- */
        .glass-panel {
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(24px) saturate(180%);
            -webkit-backdrop-filter: blur(24px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
            transition: all 0.3s ease;
        }
        .dark .glass-panel {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
        }

        /* --- BUTTONS --- */
        .btn-glow {
            position: relative; overflow: hidden; background: rgba(37, 99, 235, 0.9);
            backdrop-filter: blur(10px); color: white; font-weight: 700; border-radius: 0.75rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4), inset 0 0 0 1px rgba(255,255,255,0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); z-index: 1;
        }
        .btn-glow:hover {
            transform: translateY(-2px) scale(1.02); background: rgba(37, 99, 235, 1);
            box-shadow: 0 0 30px rgba(37, 99, 235, 0.6), inset 0 0 20px rgba(255,255,255,0.2);
            border-color: rgba(255, 255, 255, 0.4);
        }

        /* Super Glow Button */
        .btn-super-glow {
            background: linear-gradient(135deg, #2563EB, #4F46E5);
            color: white; font-weight: 800; letter-spacing: 0.5px;
            border-radius: 1rem; border: 1px solid rgba(255,255,255,0.3);
            box-shadow: 0 0 20px rgba(37, 99, 235, 0.5), inset 0 0 0 1px rgba(255,255,255,0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative; overflow: hidden; z-index: 1;
        }
        .btn-super-glow::before {
            content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: 0.5s;
        }
        .btn-super-glow:hover::before { left: 100%; }
        .btn-super-glow:hover {
            transform: translateY(-3px);
            box-shadow: 0 0 40px rgba(37, 99, 235, 0.8), 0 0 10px #fff;
        }

        .btn-glow-secondary {
            background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px); color: #1f2937;
            border: 1px solid rgba(0, 0, 0, 0.1); font-weight: 600; border-radius: 0.75rem;
            transition: all 0.3s ease; position: relative; overflow: hidden;
        }
        .dark .btn-glow-secondary { background: rgba(31, 41, 55, 0.8); color: white; border-color: rgba(255, 255, 255, 0.1); }
        .btn-glow-secondary:hover { box-shadow: 0 0 20px rgba(59, 130, 246, 0.3); border-color: #3B82F6; transform: translateY(-2px); }

        /* --- ANIMATED TOOL BUTTONS --- */
        .tool-btn-animated {
            position: relative; overflow: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .tool-btn-animated:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 30px -5px rgba(37, 99, 235, 0.2);
            border-color: rgba(59, 130, 246, 0.5);
            background-color: rgba(255, 255, 255, 0.9);
        }
        .dark .tool-btn-animated:hover {
            background-color: rgba(30, 41, 59, 0.9);
            border-color: rgba(96, 165, 250, 0.4);
            box-shadow: 0 15px 30px -5px rgba(0, 0, 0, 0.5);
        }

        /* --- LIQUID PHOTO --- */
        .liquid-wrapper {
            position: relative; width: 280px; height: 280px; display: flex; justify-content: center; align-items: center;
            animation: float 6s ease-in-out infinite; 
        }
        @media (min-width: 768px) { .liquid-wrapper { width: 380px; height: 380px; } }
        
        .liquid-bg {
            position: absolute; inset: -10px; background: linear-gradient(45deg, #2563EB, #06b6d4);
            border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
            animation: morph-reverse 8s ease-in-out infinite; opacity: 0.7; filter: blur(10px); z-index: 0;
        }
        .dark .liquid-bg { opacity: 0.4; }

        .liquid-img-box {
            position: relative; width: 100%; height: 100%;
            border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; overflow: hidden; z-index: 1; 
            -webkit-mask-image: -webkit-radial-gradient(white, black); border: 4px solid rgba(255,255,255,0.8);
            animation: morph 8s ease-in-out infinite, superGlow 3s ease-in-out infinite;
            transition: all 0.5s ease;
        }
        .dark .liquid-img-box { border-color: rgba(255,255,255,0.15); }
        .liquid-img-box img { width: 100%; height: 100%; object-fit: cover; }

        /* --- ROBOT V4.0 (Enhanced) --- */
        .droid-container {
            position: fixed; bottom: 20px; right: 20px; width: 60px; height: 80px;
            z-index: 999; cursor: grab; transition: transform 0.1s ease;
            touch-action: none;
        }
        @media(min-width: 768px) {
            .droid-container { width: 80px; height: 100px; bottom: 60px; right: 20px; }
        }
        .droid-container:active { cursor: grabbing; }
        
        .droid-tooltip {
            position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%);
            background: rgba(15, 23, 42, 0.9); color: #60a5fa; 
            padding: 6px 10px; border-radius: 8px; font-size: 11px; font-weight: bold;
            opacity: 0; transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            pointer-events: none; whitespace: pre; border: 1px solid rgba(96, 165, 250, 0.3);
            margin-bottom: 10px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .droid-container:hover .droid-tooltip { opacity: 1; transform: translateX(-50%) translateY(-5px); }

        .droid { position: relative; width: 100%; height: 100%; animation: float 6s ease-in-out infinite; pointer-events: none; }
        .droid.dancing { animation: dance 0.6s infinite ease-in-out !important; }
        
        /* SLEEP MODE */
        .droid.sleeping .d-eye { height: 2px !important; width: 14px; border-radius: 0; animation: none; background: #94a3b8; box-shadow: none; opacity: 0.7; }
        .droid.sleeping .d-head { animation: sleep-breath 4s ease-in-out infinite; border-color: #475569; box-shadow: 0 0 10px rgba(71, 85, 105, 0.5); }
        .droid.sleeping .d-body { animation: sleep-breath 4s ease-in-out infinite 0.5s; opacity: 0.8; }
        .droid.sleeping .d-hand { transform: rotate(10deg); }

        .d-head {
            position: absolute; top: 0; left: 10px; width: 60px; height: 40px;
            background: #F59E0B; background: linear-gradient(135deg, #F59E0B, #D97706);
            border-radius: 30px 30px 10px 10px; border: 2px solid #FFFBEB;
            box-shadow: 0 0 25px rgba(245, 158, 11, 0.8); z-index: 2; overflow: hidden; transition: all 0.3s;
        }
        @media(max-width: 768px) {
             .d-head { width: 50px; height: 35px; left: 5px; }
        }
        .dark .d-head { background: #06b6d4; border-color: #ecfeff; box-shadow: 0 0 20px rgba(6, 182, 212, 0.9); }

        .d-face {
            position: absolute; top: 10px; left: 5px; right: 5px; bottom: 5px;
            background: #020617; border-radius: 20px 20px 10px 10px;
            display: flex; justify-content: center; align-items: center; gap: 8px; overflow: hidden;
            box-shadow: inset 0 0 5px #000;
        }
        .d-eye {
            width: 12px; height: 12px; background: #60a5fa; border-radius: 50%;
            box-shadow: 0 0 8px #60a5fa; transition: all 0.2s; position: relative;
        }
        .d-eye::after { content: ''; position: absolute; top: 2px; left: 2px; width: 4px; height: 4px; background: white; border-radius: 50%; }
        
        .droid.talking .d-eye { animation: talk-blink 0.2s infinite alternate; height: 4px; border-radius: 2px; }
        @keyframes talk-blink { 0% { opacity: 0.5; } 100% { opacity: 1; box-shadow: 0 0 15px #38bdf8; } }

        /* HEART PARTICLES */
        .heart-particle { position: absolute; color: #ef4444; font-size: 14px; animation: heart-float 1s ease-out forwards; pointer-events: none; z-index: 1001; }

        .d-body {
            position: absolute; top: 45px; left: 15px; width: 50px; height: 40px;
            background: #D97706; border-radius: 10px 10px 25px 25px; 
            border: 2px solid #FCD34D; box-shadow: 0 0 20px rgba(245, 158, 11, 0.6); z-index: 1;
        }
        @media(max-width: 768px) { .d-body { top: 40px; left: 10px; width: 40px; height: 35px; } }

        .dark .d-body { background: #22d3ee; border-color: #ecfeff; box-shadow: 0 0 15px rgba(34, 211, 238, 0.6); border: 2px solid #ecfeff; }

        .d-hand { 
            position: absolute; top: 55px; width: 12px; height: 25px; 
            background: #F59E0B; border-radius: 10px; transition: all 0.3s; 
            border: 1px solid #FFFBEB; box-shadow: 0 0 8px rgba(245, 158, 11, 0.6);
        }
        @media(max-width: 768px) { .d-hand { top: 45px; height: 20px; width: 10px; } }

        .dark .d-hand { background: #22d3ee; border-color: #cffafe; box-shadow: 0 0 5px rgba(34, 211, 238, 0.6); }
        .d-hand.left { left: 5px; } .d-hand.right { right: 5px; }

        /* ROCKET MODE (TURBO) STYLES */
        .droid-container.rocket-active {
            transform: translateY(-250px) scale(1.1); /* Fly up */
            transition: transform 1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        /* Rocket Shake & Flame Effects */
        .droid-container.rocket-active .droid {
            animation: rocket-shake 0.1s linear infinite;
        }

        .droid-container.rocket-active::after {
            content: '';
            position: absolute; top: 85%; left: 50%; transform: translateX(-50%);
            width: 30px; height: 60px;
            background: linear-gradient(to bottom, #F59E0B, #ef4444, transparent);
            border-radius: 0 0 20px 20px;
            filter: blur(4px);
            animation: flame 0.1s alternate infinite;
            z-index: -1;
            opacity: 0.8;
        }
        
        .turbo-mode .d-head, .turbo-mode .d-body, .turbo-mode .d-hand {
            box-shadow: 0 0 30px #ef4444, inset 0 0 10px #fca5a5;
            border-color: #fee2e2;
        }
        .turbo-mode .d-eye { background: #ef4444; box-shadow: 0 0 15px #b91c1c; }

        /* --- MODERN GLASSMORPHIC MENU --- */
        .droid-hud {
            position: absolute; bottom: 120%; right: -20px; width: 280px;
            background: rgba(255, 255, 255, 0.95); 
            backdrop-filter: blur(25px) saturate(200%);
            -webkit-backdrop-filter: blur(25px) saturate(200%);
            border: 1px solid rgba(245, 158, 11, 0.3);
            border-radius: 28px;
            padding: 20px; display: none; transform-origin: bottom right;
            box-shadow: 0 25px 50px -12px rgba(245, 158, 11, 0.15), 0 0 30px rgba(255, 255, 255, 0.8), inset 0 0 0 1px rgba(255, 255, 255, 0.6);
            color: #1f2937; font-family: 'Outfit', sans-serif; z-index: 1000; overflow: hidden;
        }
        @media(min-width: 768px) { .droid-hud { width: 300px; } }
        
        .dark .droid-hud {
            background: rgba(15, 23, 42, 0.95); border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5), inset 0 0 0 1px rgba(255, 255, 255, 0.05); color: #fff;
        }

        .droid-hud.active { display: block; animation: hud-spring 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        @keyframes hud-spring { 0% { transform: scale(0.5) translateY(50px); opacity: 0; } 100% { transform: scale(1) translateY(0); opacity: 1; } }

        .hud-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .hud-status { display: flex; align-items: center; gap: 8px; font-size: 11px; font-weight: 700; color: #d97706; letter-spacing: 0.5px; }
        .dark .hud-status { color: #94a3b8; }
        .hud-dot { width: 8px; height: 8px; background: #22c55e; border-radius: 50%; box-shadow: 0 0 8px #22c55e; animation: pulse 2s infinite; }
        
        .hud-grid { display: grid; grid-cols-2; gap: 12px; margin-bottom: 16px; }
        
        .hud-card {
            background: rgba(245, 158, 11, 0.05); border: 1px solid rgba(245, 158, 11, 0.1);
            border-radius: 16px; padding: 12px; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 8px;
            cursor: pointer; transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94); position: relative; overflow: hidden;
        }
        .hud-card:hover { background: rgba(245, 158, 11, 0.15); transform: translateY(-2px); border-color: rgba(245, 158, 11, 0.5); box-shadow: 0 10px 20px -5px rgba(245, 158, 11, 0.2); }
        .hud-card i { font-size: 18px; color: #d97706; transition: transform 0.3s; }
        .hud-card:hover i { transform: scale(1.1); color: #b45309; }
        .hud-label { font-size: 11px; font-weight: 600; color: #4b5563; }

        /* COMMAND LIST STYLE FOR HUD */
        .hud-cmd-list { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 16px; }
        .cmd-item { 
            background: rgba(0,0,0,0.03); padding: 6px; border-radius: 8px; font-family: 'JetBrains Mono', monospace; 
            font-size: 10px; text-align: center; border: 1px solid rgba(0,0,0,0.05); color: #6b7280;
        }
        .dark .cmd-item { background: rgba(255,255,255,0.03); border-color: rgba(255,255,255,0.05); color: #94a3b8; }
        .cmd-item::before { content: '>'; color: #d97706; margin-right: 4px; font-weight: bold; }
        .dark .cmd-item::before { color: #60a5fa; }

        .dark .hud-card { background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.05); }
        .dark .hud-card:hover { background: rgba(255, 255, 255, 0.08); border-color: rgba(59, 130, 246, 0.3); box-shadow: 0 10px 20px -5px rgba(0,0,0,0.2); }
        .dark .hud-card i { color: #60a5fa; }
        .dark .hud-card:hover i { color: #93c5fd; }
        .dark .hud-label { color: #cbd5e1; }

        .hud-voice-row { 
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(251, 191, 36, 0.1));
            border: 1px solid rgba(245, 158, 11, 0.2); border-radius: 16px; padding: 12px; margin-bottom: 16px; cursor: pointer;
            display: flex; align-items: center; justify-content: space-between; transition: all 0.3s;
        }
        .hud-voice-row:hover { border-color: #d97706; box-shadow: 0 0 15px rgba(245, 158, 11, 0.2); }
        .hud-voice-icon { width: 36px; height: 36px; background: #F59E0B; border-radius: 12px; display: flex; align-items: center; justify-content: center; color: white; box-shadow: 0 4px 10px rgba(245, 158, 11, 0.3); }
        .hud-voice-text div:first-child { font-size: 12px; font-weight: 700; color: #1f2937; }
        .hud-voice-text div:last-child { font-size: 10px; color: #6b7280; }
        
        .dark .hud-voice-row { background: linear-gradient(135deg, rgba(59,130,246,0.1), rgba(147,51,234,0.1)); border-color: rgba(59,130,246,0.2); }
        .dark .hud-voice-row:hover { border-color: #3b82f6; box-shadow: 0 0 15px rgba(59,130,246,0.15); }
        .dark .hud-voice-icon { background: #3b82f6; box-shadow: 0 4px 10px rgba(59,130,246,0.3); }
        .dark .hud-voice-text div:first-child { color: white; }
        .dark .hud-voice-text div:last-child { color: #94a3b8; }

        .hud-voice-row.listening { border-color: #ef4444; background: rgba(239,68,68,0.1); }
        .hud-voice-row.listening .hud-voice-icon { background: #ef4444; animation: pulse 1.5s infinite; }

        .hud-footer { border-top: 1px solid rgba(0,0,0,0.05); padding-top: 12px; margin-top: 8px; display: flex; justify-content: space-between; align-items: center; }
        .dark .hud-footer { border-top: 1px solid rgba(255,255,255,0.1); }

        .hud-mini-btn { width: 32px; height: 32px; border-radius: 10px; background: rgba(0,0,0,0.03); color: #6b7280; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s; }
        .hud-mini-btn:hover { background: rgba(245, 158, 11, 0.1); color: #d97706; transform: scale(1.05); }
        .dark .hud-mini-btn { background: rgba(255,255,255,0.05); color: #94a3b8; }
        .dark .hud-mini-btn:hover { background: rgba(255,255,255,0.1); color: white; }
        
        .scanner-beam { position: fixed; top: 0; left: 0; width: 100%; height: 5px; background: #3b82f6; box-shadow: 0 0 20px #3b82f6; z-index: 9999; animation: scan 2s linear infinite; display: none; }
        .bot-bubble { position: absolute; bottom: 100%; right: 0; background: #fff; padding: 10px 14px; border-radius: 12px 12px 0 12px; font-size: 12px; font-weight: bold; color: #334155; width: max-content; max-width: 180px; box-shadow: 0 5px 20px rgba(0,0,0,0.15); opacity: 0; transform: translateY(10px) scale(0.9); transition: all 0.3s; pointer-events: none; border: 1px solid #e2e8f0; z-index: 101; text-align: right; margin-bottom: 10px; }
        .dark .bot-bubble { background: #1e293b; color: #e2e8f0; border-color: #334155; }
        .bot-bubble.show { opacity: 1; transform: translateY(0) scale(1); }

        .reveal { opacity: 0; transform: translateY(40px) scale(0.95); filter: blur(10px); transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1); }
        .reveal.active { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }

        .nav-btn { position: relative; transition: all 0.3s ease; }
        .nav-btn.active { color: #2563EB; font-weight: 600; text-shadow: 0 0 10px rgba(37,99,235,0.3); }
        .dark .nav-btn.active { color: #60A5FA; text-shadow: 0 0 10px rgba(96,165,250,0.5); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .typing-cursor::after { content: '|'; animation: blink 1s step-end infinite; color: #2563EB; }
        @keyframes blink { 50% { opacity: 0; } }
        
        .timeline-item { position: relative; padding-left: 2rem; border-left: 2px solid #e2e8f0; padding-bottom: 2rem; }
        .dark .timeline-item { border-color: #334155; }
        .timeline-item::before { content: ''; position: absolute; left: -6px; top: 0; width: 10px; height: 10px; border-radius: 50%; background: #3b82f6; }
        .timeline-item:last-child { border-left: 2px solid transparent; }

        /* --- UPDATED: MORE ANIMATED & COMPACT TOOL BUTTONS --- */
        .tool-select-btn {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            padding: 0.5rem; /* SMALLER PADDING */
            border-radius: 0.75rem; transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            border: 1px solid rgba(255,255,255,0.5);
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px);
            text-align: center; gap: 0.25rem;
            position: relative; overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        @media(min-width: 768px) { .tool-select-btn { padding: 0.75rem; gap: 0.5rem; } }
        
        .dark .tool-select-btn {
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid rgba(255,255,255,0.05);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
        }

        /* ANIMATION ON HOVER */
        .tool-select-btn:hover {
            transform: translateY(-5px) scale(1.05) rotate(1deg); /* MORE ANIMATED */
            box-shadow: 0 12px 20px -5px rgba(37, 99, 235, 0.25);
            border-color: rgba(37, 99, 235, 0.5);
            z-index: 10;
        }
        .dark .tool-select-btn:hover {
            background: rgba(30, 41, 59, 0.9);
            border-color: rgba(96, 165, 250, 0.6);
            box-shadow: 0 12px 20px -5px rgba(0, 0, 0, 0.6), 0 0 15px rgba(96, 165, 250, 0.2);
        }
        
        .tool-select-btn.active {
            background: linear-gradient(135deg, #2563EB, #4F46E5); 
            color: white; border-color: transparent;
            box-shadow: 0 0 20px rgba(37, 99, 235, 0.4);
            transform: scale(1.02);
        }
        .tool-select-btn.active i { color: white !important; transform: scale(1.1); }
        
        .tool-select-btn i { 
            font-size: 1.1rem; margin-bottom: 2px; transition: transform 0.3s; color: #4b5563;
        }
        @media(min-width: 768px) { .tool-select-btn i { font-size: 1.25rem; } }

        .dark .tool-select-btn i { color: #94a3b8; }
        .tool-select-btn:hover i { transform: scale(1.2); color: #2563EB; }
        .dark .tool-select-btn:hover i { color: #60A5FA; }
        
        .tool-select-btn span { font-size: 0.6rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; }
        @media(min-width: 768px) { .tool-select-btn span { font-size: 0.7rem; } }

    </style>
</head>
<body class="text-gray-900 dark:text-gray-100 flex flex-col h-screen overflow-hidden" onclick="handleGlobalClick(event)">

    <div id="scanner" class="scanner-beam"></div>
    <div id="scroll-progress"></div>

    <div class="ambient-bg">
        <div class="blob-1"></div>
        <div class="blob-2"></div>
        <div class="blob-3"></div>
    </div>

    <nav class="fixed top-0 left-0 w-full z-50 flex justify-center pt-2 md:pt-4 px-2 md:px-4 transition-all duration-300" id="navbar">
        <div class="glass-nav rounded-full px-4 py-2 md:py-3 flex items-center justify-between shadow-nav-glow max-w-5xl w-full bg-white/70 dark:bg-slate-900/60 backdrop-blur-xl border border-white/50 dark:border-white/10 transition-all hover:shadow-glow">
            <div class="flex items-center gap-3 cursor-pointer" onclick="switchTab('home')">
                <div class="w-8 h-8 md:w-9 md:h-9 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-md animate-pulse-glow">RM</div>
                <div class="flex flex-col leading-tight">
                    <span class="font-bold tracking-tight text-sm md:text-base text-gray-900 dark:text-white transition-colors">Rahul Magar</span>
                    <span class="text-[9px] md:text-[10px] text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wider">DevOps Architect</span>
                </div>
            </div>
            
            <div class="hidden md:flex items-center space-x-1 lg:space-x-2">
                <button onclick="switchTab('home')" class="nav-btn px-3 lg:px-4 py-2 text-sm text-gray-600 dark:text-gray-300 transition-colors hover:bg-white/50 dark:hover:bg-gray-800/50 rounded-lg" id="btn-home">Home</button>
                <button onclick="switchTab('tools')" class="nav-btn px-3 lg:px-4 py-2 text-sm text-gray-600 dark:text-gray-300 transition-colors hover:bg-white/50 dark:hover:bg-gray-800/50 rounded-lg" id="btn-tools">Stack</button>
                <button onclick="switchTab('projects')" class="nav-btn px-3 lg:px-4 py-2 text-sm text-gray-600 dark:text-gray-300 transition-colors hover:bg-white/50 dark:hover:bg-gray-800/50 rounded-lg" id="btn-projects">Projects</button>
                <button onclick="switchTab('blog')" class="nav-btn px-3 lg:px-4 py-2 text-sm text-gray-600 dark:text-gray-300 transition-colors hover:bg-white/50 dark:hover:bg-gray-800/50 rounded-lg" id="btn-blog">Blogs</button>
                <button onclick="switchTab('yaml')" class="nav-btn px-3 lg:px-4 py-2 text-sm text-gray-600 dark:text-gray-300 transition-colors hover:bg-white/50 dark:hover:bg-gray-800/50 rounded-lg" id="btn-yaml">PlayGround</button>
                <button onclick="switchTab('about')" class="nav-btn px-3 lg:px-4 py-2 text-sm text-gray-600 dark:text-gray-300 transition-colors hover:bg-white/50 dark:hover:bg-gray-800/50 rounded-lg" id="btn-about">About</button>
            </div>

            <div class="flex items-center gap-3">
                <button onclick="toggleTheme()" class="w-8 h-8 md:w-9 md:h-9 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-yellow-400 flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-700 transition-all focus:outline-none shadow-inner">
                    <i class="fas fa-sun dark:hidden"></i>
                    <i class="fas fa-moon hidden dark:block"></i>
                </button>
                <div class="md:hidden">
                    <button onclick="toggleMobileMenu()" class="p-2 text-gray-600 dark:text-gray-300"><i class="fas fa-bars"></i></button>
                </div>
                <button onclick="switchTab('contact')" class="hidden md:block px-5 py-2 btn-glow text-sm">
                    Contact
                </button>
            </div>
        </div>
    </nav>

    <div id="mobile-menu" class="fixed inset-0 z-40 bg-white/95 dark:bg-gray-900/95 backdrop-blur-xl hidden flex-col items-center justify-center space-y-6 opacity-0 pointer-events-none transition-all duration-300">
        <button onclick="toggleMobileMenu()" class="absolute top-6 right-6 text-2xl text-gray-500 dark:text-gray-400"><i class="fas fa-times"></i></button>
        <button onclick="mobileNav('home')" class="text-2xl font-bold text-gray-800 dark:text-gray-100">Home</button>
        <button onclick="mobileNav('tools')" class="text-2xl font-bold text-gray-800 dark:text-gray-100">Stack</button>
        <button onclick="mobileNav('projects')" class="text-2xl font-bold text-gray-800 dark:text-gray-100">Projects</button>
        <button onclick="mobileNav('blog')" class="text-2xl font-bold text-gray-800 dark:text-gray-100">Blogs</button>
        <button onclick="mobileNav('yaml')" class="text-2xl font-bold text-gray-800 dark:text-gray-100">PlayGround</button>
        <button onclick="mobileNav('contact')" class="text-2xl font-bold text-primary">Contact Me</button>
    </div>

    <main class="pt-24 pb-10 px-4 md:px-8 max-w-6xl mx-auto w-full flex-grow overflow-y-auto no-scrollbar scroll-smooth" id="main-content">
        <section id="home" class="tab-content block reveal">
             <div class="flex flex-col md:flex-row items-center gap-8 md:gap-12 lg:gap-20 mt-0">
                <div class="w-full md:w-1/2 space-y-6 md:space-y-8 reveal relative z-10 text-center md:text-left">
                    <div class="min-h-[50px] mb-4 md:mb-8 flex justify-center md:justify-start" id="quote-container"></div>
                    
                    <div class="relative">
                        <div class="absolute -inset-1 rounded-lg bg-gradient-to-r from-blue-600 to-cyan-400 opacity-20 blur-2xl"></div>
                        <h1 class="text-4xl sm:text-5xl md:text-7xl font-extrabold tracking-tight leading-[1.1] text-gray-900 dark:text-white drop-shadow-sm relative">
                            Rahul Magar
                        </h1>
                    </div>
                    
                    <h2 class="text-xl sm:text-2xl md:text-3xl font-medium text-gray-700 dark:text-gray-300">
                        DevOps Engineer & <br>
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-primary to-cyan-400 animate-pulse">SAS Platform Admin</span>
                    </h2>
                    
                    <div class="h-32 md:h-28">
                        <p id="typing-text" class="text-base sm:text-lg md:text-xl text-gray-600 dark:text-gray-400 leading-relaxed max-w-lg mx-auto md:mx-0 typing-cursor font-medium"></p>
                    </div>
                    
                    <div class="flex flex-col sm:flex-row gap-4 pt-4 justify-center md:justify-start">
                        <button onclick="switchTab('about')" class="px-8 py-3.5 btn-glow-secondary text-base">
                            About Me
                        </button>
                        <button onclick="switchTab('yaml')" class="px-8 py-3.5 btn-glow text-base flex items-center justify-center gap-2">
                            DevOps Playground <i class="fas fa-rocket animate-bounce"></i>
                        </button>
                    </div>
                </div>
                
                <div class="w-full md:w-1/2 flex justify-center md:justify-end relative reveal delay-200 mt-8 md:mt-0">
                    <div class="liquid-wrapper -mt-0 md:-mt-32 mr-0 md:mr-10 scale-90 md:scale-100">
                        <div class="liquid-bg"></div>
                        <div class="liquid-img-box group">
                            <img src="Rahul_photo-Copy.jpg" onerror="this.src='https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'" alt="Rahul Magar">
                        </div>
                        <div class="absolute bottom-6 left-0 md:-left-6 glass-panel px-5 py-4 rounded-2xl flex items-center gap-3 animate-float-delayed shadow-xl z-20 hover:scale-110 transition-transform cursor-default">
                            <div class="w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/50 flex items-center justify-center text-blue-600 dark:text-blue-300 text-xl"><i class="fas fa-dharmachakra"></i></div>
                            <div>
                                <div class="text-xs text-gray-500 dark:text-gray-400 font-bold uppercase">DevOps</div>
                                <div class="text-base font-bold text-gray-800 dark:text-white">Mastery</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="about" class="tab-content hidden pb-20 reveal">
             <div class="max-w-7xl mx-auto">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-1">
                        <div class="group relative p-0.5 rounded-2xl lg:sticky lg:top-20 reveal transition-all duration-500 hover:scale-[1.01] max-w-sm mx-auto w-full">
                            <div class="absolute inset-0 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 rounded-2xl opacity-20 blur-sm group-hover:opacity-50 transition-all duration-500"></div>
                            <div class="relative h-full bg-white/30 dark:bg-gray-900/40 backdrop-blur-xl p-5 rounded-xl flex flex-col items-center border border-white/30 dark:border-white/10 shadow-lg">
                                <div class="relative w-24 h-24 mb-3">
                                    <div class="absolute inset-0 rounded-full border-2 border-dashed border-blue-400 animate-spin-slow"></div>
                                    <img src="Rahul_photo-Copy.jpg" onerror="this.src='https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80'" class="w-full h-full object-cover rounded-full border-2 border-transparent p-0.5 bg-gradient-to-br from-blue-500 to-purple-600 bg-clip-border relative z-10 shadow-md" alt="Rahul">
                                    <div class="absolute bottom-1 right-1 w-4 h-4 bg-green-500 border-2 border-white dark:border-gray-900 rounded-full z-20 shadow-sm" title="Available"></div>
                                </div>
                                <h2 class="text-2xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 mb-1">Rahul Magar</h2>
                                <p class="text-gray-600 dark:text-gray-300 font-medium mb-4 text-xs tracking-wide bg-blue-50/50 dark:bg-blue-900/20 px-3 py-1 rounded-full border border-blue-100/50 dark:border-blue-800">DevOps & SAS Architect</p>
                                <div class="w-full space-y-2 mb-6">
                                    <div class="flex items-center gap-3 p-2 rounded-lg bg-gray-50/50 dark:bg-gray-800/30 hover:bg-blue-50 dark:hover:bg-blue-900/30 border border-transparent hover:border-blue-200 dark:hover:border-blue-700 transition-all group/item cursor-default">
                                        <div class="w-8 h-8 rounded-full bg-white dark:bg-gray-800 shadow-sm flex items-center justify-center text-blue-500 group-hover/item:scale-110 transition-transform text-sm"><i class="fas fa-map-marker-alt"></i></div>
                                        <div class="text-left"><p class="text-[9px] text-gray-400 font-bold uppercase tracking-wider">Location</p><p class="text-xs font-semibold text-gray-700 dark:text-gray-200">Pune, Maharashtra</p></div>
                                    </div>
                                    <a href="https://linkedin.com/in/rahulmagar11" target="_blank" class="flex items-center gap-3 p-2 rounded-lg bg-gray-50/50 dark:bg-gray-800/30 hover:bg-blue-50 dark:hover:bg-blue-900/30 border border-transparent hover:border-blue-200 dark:hover:border-blue-700 transition-all group/item">
                                        <div class="w-8 h-8 rounded-full bg-white dark:bg-gray-800 shadow-sm flex items-center justify-center text-blue-500 group-hover/item:scale-110 transition-transform text-sm"><i class="fab fa-linkedin-in"></i></div>
                                        <div class="text-left"><p class="text-[9px] text-gray-400 font-bold uppercase tracking-wider">LinkedIn</p><p class="text-xs font-semibold text-gray-700 dark:text-gray-200">/in/rahulmagar11</p></div>
                                    </a>
                                    <a href="https://github.com/rahulmagar11" target="_blank" class="flex items-center gap-3 p-2 rounded-lg bg-gray-50/50 dark:bg-gray-800/30 hover:bg-blue-50 dark:hover:bg-blue-900/30 border border-transparent hover:border-blue-200 dark:hover:border-blue-700 transition-all group/item">
                                        <div class="w-8 h-8 rounded-full bg-white dark:bg-gray-800 shadow-sm flex items-center justify-center text-blue-500 group-hover/item:scale-110 transition-transform text-sm"><i class="fab fa-github"></i></div>
                                        <div class="text-left"><p class="text-[9px] text-gray-400 font-bold uppercase tracking-wider">GitHub</p><p class="text-xs font-semibold text-gray-700 dark:text-gray-200">/rahulmagar11</p></div>
                                    </a>
                                </div>
                                <button onclick="switchTab('contact')" class="w-full py-3 px-4 btn-glow text-sm flex justify-center items-center gap-2">
                                    Let's Connect <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="lg:col-span-2 space-y-6">
                        <div class="glass-panel p-6 rounded-2xl reveal border border-white/50 dark:border-white/10">
                            <h3 class="text-xl font-bold mb-4 text-primary flex items-center gap-3">
                                <i class="fas fa-user-tie"></i> Professional Summary
                            </h3>
                            <p class="text-gray-700 dark:text-gray-300 leading-relaxed text-base">
                                Results-driven <strong>DevOps Engineer</strong> and <strong>SAS Platform Engineer</strong> with 9+ years of experience transforming software delivery through <strong>Infrastructure as Code (IaC)</strong>, <strong>Cloud Engineering (AWS, Azure)</strong>, and <strong>CI/CD pipeline automation</strong>. Expertise in <strong>Kubernetes (EKS/AKS)</strong>, Terraform, Ansible, Jenkins, and comprehensive observability stacks. Dedicated to building resilient, scalable, and cost-optimized infrastructure while administering high-availability and managing <strong>SAS Grid and Viya</strong> platforms.
                            </p>
                        </div>
                        <div class="glass-panel p-6 rounded-2xl reveal border border-white/50 dark:border-white/10">
                            <h3 class="text-xl font-bold mb-4 text-gold-dark dark:text-yellow-400 flex items-center gap-3">
                                <i class="fas fa-certificate"></i> Certifications
                            </h3>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <div class="flex items-center gap-3 p-3 bg-white/50 dark:bg-gray-800/50 rounded-xl border border-gray-100 dark:border-gray-700">
                                    <div class="text-2xl text-orange-500"><i class="fab fa-aws"></i></div>
                                    <div>
                                        <h4 class="font-bold text-xs uppercase text-gray-500 dark:text-gray-400">Amazon Web Services</h4>
                                        <p class="text-sm font-bold text-gray-800 dark:text-gray-100">Certified Solutions Architect</p>
                                    </div>
                                </div>
                                <div class="flex items-center gap-3 p-3 bg-white/50 dark:bg-gray-800/50 rounded-xl border border-gray-100 dark:border-gray-700">
                                    <div class="text-2xl text-blue-500"><i class="fas fa-dharmachakra"></i></div>
                                    <div>
                                        <h4 class="font-bold text-xs uppercase text-gray-500 dark:text-gray-400">CNCF</h4>
                                        <p class="text-sm font-bold text-gray-800 dark:text-gray-100">Certified Kubernetes Admin (CKA)</p>
                                    </div>
                                </div>
                                <div class="flex items-center gap-3 p-3 bg-white/50 dark:bg-gray-800/50 rounded-xl border border-gray-100 dark:border-gray-700">
                                    <div class="text-2xl text-sas"><i class="fas fa-chart-pie"></i></div>
                                    <div>
                                        <h4 class="font-bold text-xs uppercase text-gray-500 dark:text-gray-400">SAS Institute</h4>
                                        <p class="text-sm font-bold text-gray-800 dark:text-gray-100">SAS Certified Platform Admin</p>
                                    </div>
                                </div>
                                <div class="flex items-center gap-3 p-3 bg-white/50 dark:bg-gray-800/50 rounded-xl border border-gray-100 dark:border-gray-700">
                                    <div class="text-2xl text-purple-600"><i class="fas fa-code"></i></div>
                                    <div>
                                        <h4 class="font-bold text-xs uppercase text-gray-500 dark:text-gray-400">HashiCorp</h4>
                                        <p class="text-sm font-bold text-gray-800 dark:text-gray-100">Terraform Associate</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="glass-panel p-6 rounded-2xl reveal border border-white/50 dark:border-white/10">
                            <h3 class="text-xl font-bold mb-4 text-green-600 dark:text-green-400 flex items-center gap-3">
                                <i class="fas fa-cogs"></i> Core Expertise
                            </h3>
                            <ul class="space-y-3 text-gray-700 dark:text-gray-300 text-sm">
                                <li class="flex items-start bg-white/50 dark:bg-gray-800/50 p-3 rounded-xl reveal hover:bg-white dark:hover:bg-gray-800 transition">
                                    <i class="fab fa-aws text-yellow-600 text-lg mt-1 mr-4"></i>
                                    <span class="leading-snug">Designed and managed robust, cost-optimized infrastructure on AWS (EKS, EC2, S3, Lambda, VPC).</span>
                                </li>
                                <li class="flex items-start bg-white/50 dark:bg-gray-800/50 p-3 rounded-xl reveal hover:bg-white dark:hover:bg-gray-800 transition">
                                    <i class="fas fa-dharmachakra text-indigo-600 text-lg mt-1 mr-4"></i>
                                    <span class="leading-snug">Expertise in Kubernetes (EKS/AKS) deployment, Helm, and GitOps workflows using ArgoCD.</span>
                                </li>
                                <li class="flex items-start bg-white/50 dark:bg-gray-800/50 p-3 rounded-xl reveal hover:bg-white dark:hover:bg-gray-800 transition">
                                    <i class="fas fa-code text-purple-600 text-lg mt-1 mr-4"></i>
                                    <span class="leading-snug">Implemented Infrastructure as Code (IaC) using Terraform and configuration management with Ansible.</span>
                                </li>
                                <li class="flex items-start bg-white/50 dark:bg-gray-800/50 p-3 rounded-xl reveal hover:bg-white dark:hover:bg-gray-800 transition">
                                    <i class="fas fa-sync-alt text-red-600 text-lg mt-1 mr-4"></i>
                                    <span class="leading-snug">Built and maintained scalable CI/CD pipelines using Jenkins, Azure DevOps, and GitHub Actions.</span>
                                </li>
                            </ul>
                        </div>
                        <div class="glass-panel p-6 rounded-2xl reveal border border-white/50 dark:border-white/10">
                            <h3 class="text-xl font-bold mb-6 text-indigo-600 dark:text-indigo-400 flex items-center gap-3">
                                <i class="fas fa-trophy"></i> Key Achievements
                            </h3>
                            <div class="space-y-6">
                                <div class="reveal">
                                    <div class="flex justify-between items-center mb-2">
                                        <span class="text-xs font-bold text-gray-600 dark:text-gray-400">Reduced Infrastructure Costs (EKS)</span>
                                        <span class="text-sm font-bold text-green-600 dark:text-green-400">40%</span>
                                    </div>
                                    <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden">
                                        <div class="bg-green-500 h-full rounded-full animate-pulse" style="width: 40%"></div>
                                    </div>
                                </div>
                                <div class="reveal">
                                    <div class="flex justify-between items-center mb-2">
                                        <span class="text-xs font-bold text-gray-600 dark:text-gray-400">CI/CD Deployment Frequency</span>
                                        <span class="text-sm font-bold text-blue-600 dark:text-blue-400">5x Increase</span>
                                    </div>
                                    <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden">
                                        <div class="bg-blue-500 h-full rounded-full animate-pulse" style="width: 80%"></div>
                                    </div>
                                </div>
                                <div class="reveal">
                                    <div class="flex justify-between items-center mb-2">
                                        <span class="text-xs font-bold text-gray-600 dark:text-gray-400">SAS Grid Uptime</span>
                                        <span class="text-sm font-bold text-purple-600 dark:text-purple-400">99.99%</span>
                                    </div>
                                    <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden">
                                        <div class="bg-purple-500 h-full rounded-full animate-pulse" style="width: 99%"></div>
                                    </div>
                                </div>
                                <div class="reveal">
                                    <div class="flex justify-between items-center mb-2">
                                        <span class="text-xs font-bold text-gray-600 dark:text-gray-400">Cloud Migration Success Rate</span>
                                        <span class="text-sm font-bold text-teal-600 dark:text-teal-400">100%</span>
                                    </div>
                                    <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden">
                                        <div class="bg-teal-500 h-full rounded-full animate-pulse" style="width: 100%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="glass-panel p-6 rounded-2xl reveal border border-white/50 dark:border-white/10">
                            <h3 class="text-xl font-bold mb-6 text-blue-600 dark:text-blue-400 flex items-center gap-3">
                                <i class="fas fa-history"></i> My Journey
                            </h3>
                            <div class="ml-2">
                                <div class="timeline-item">
                                    <div class="text-sm font-bold text-gray-400">2022 - Present</div>
                                    <h4 class="text-lg font-bold text-gray-800 dark:text-white">Senior DevOps Architect</h4>
                                    <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Leading cloud migration strategies, designing EKS clusters, and implementing GitOps with ArgoCD for enterprise-scale applications.</p>
                                </div>
                                <div class="timeline-item">
                                    <div class="text-sm font-bold text-gray-400">2021 - 2022</div>
                                    <h4 class="text-lg font-bold text-gray-800 dark:text-white">SAS Admin and Cloud Engineer</h4>
                                    <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Managed multi-node SAS Grid environments, automated user onboarding, and performed major version upgrades for banking clients.</p>
                                </div>
                                <div class="timeline-item">
                                    <div class="text-sm font-bold text-gray-400">2017 - 2020</div>
                                    <h4 class="text-lg font-bold text-gray-800 dark:text-white">SAS Platform Administrator</h4>
                                    <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">Administered RHEL/CentOS servers, wrote bash automation scripts, and managed network security protocols.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="tools" class="tab-content hidden pb-20 reveal">
            <div class="text-center mb-16 reveal">
                <h2 class="text-3xl md:text-4xl font-extrabold mb-4 text-gray-900 dark:text-white">DevOps Tools Directory</h2>
                <p id="tools-typing-text" class="text-primary text-lg font-medium max-w-2xl mx-auto h-8"></p>
            </div>
            <div id="tools-grid" class="space-y-16"></div>
        </section>

        <section id="projects" class="tab-content hidden pb-20 reveal">
            <div class="flex flex-col md:flex-row justify-between items-end mb-12 reveal">
                <div>
                    <h2 class="text-3xl md:text-4xl font-extrabold text-gray-900 dark:text-white mb-2">Featured Projects</h2>
                    <p class="text-gray-500 dark:text-gray-400">Real-world deployments and cloud solutions.</p>
                </div>
                <a href="https://github.com/rahulmagar11" target="_blank" class="text-sm font-bold text-primary hover:text-blue-800 dark:hover:text-blue-300 flex items-center gap-2 mt-4 md:mt-0 transition-colors">
                    View all on GitHub <i class="fas fa-arrow-right"></i>
                </a>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8" id="projects-container"></div>
        </section>

        <section id="blog" class="tab-content hidden pb-20 reveal">
            <div class="text-center mb-12 reveal">
                <h2 class="text-3xl md:text-4xl font-extrabold mb-3 text-gray-900 dark:text-white">DevOps Insights</h2>
                <p class="text-gray-500 dark:text-gray-400">Technical articles and tutorials.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="blog-container"></div>
        </section>

        <section id="yaml" class="tab-content hidden pb-20 reveal">
            <div class="reveal">
                <div class="flex justify-center mb-8">
                    <div class="bg-gray-200 dark:bg-gray-800 p-1 rounded-full flex relative">
                        <div id="mode-bg" class="absolute top-1 left-1 w-[120px] h-[calc(100%-8px)] bg-white dark:bg-primary rounded-full shadow-md transition-all duration-300"></div>
                        <button onclick="togglePlaygroundMode('tools')" class="relative z-10 w-[120px] py-2 text-sm font-bold text-center rounded-full transition-colors" id="btn-mode-tools"> Tools</button>
                        <button onclick="togglePlaygroundMode('games')" class="relative z-10 w-[120px] py-2 text-sm font-bold text-center rounded-full transition-colors text-gray-500" id="btn-mode-games"> Arcade</button>
                    </div>
                </div>

                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-900 dark:text-white" id="pg-title">DevOps Tool Chest</h2>
                    <p class="text-gray-500 dark:text-gray-400 mt-2" id="pg-desc">Professional Grade Utilities.</p>
                </div>

                <div id="mode-tools" class="max-w-5xl mx-auto mb-10 reveal transition-all">
                    <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3 p-2">
                        <button onclick="switchToolBtn(this, 'tool-editor')" class="tool-select-btn active"><i class="fas fa-file-code"></i><span>YAML/JSON</span></button>
                        <button onclick="switchToolBtn(this, 'tool-diff')" class="tool-select-btn"><i class="fas fa-exchange-alt"></i><span>Diff Checker</span></button>
                        <button onclick="switchToolBtn(this, 'tool-csv')" class="tool-select-btn"><i class="fas fa-table"></i><span>CSV/JSON</span></button>
                        <button onclick="switchToolBtn(this, 'tool-regex')" class="tool-select-btn"><i class="fas fa-code"></i><span>Regex</span></button>
                        <button onclick="switchToolBtn(this, 'tool-base64')" class="tool-select-btn"><i class="fas fa-lock"></i><span>Base64</span></button>
                        <button onclick="switchToolBtn(this, 'tool-jwt')" class="tool-select-btn"><i class="fas fa-key"></i><span>JWT Debug</span></button>
                        <button onclick="switchToolBtn(this, 'tool-url')" class="tool-select-btn"><i class="fas fa-link"></i><span>URL Enc</span></button>
                        <button onclick="switchToolBtn(this, 'tool-unit')" class="tool-select-btn"><i class="fas fa-weight-hanging"></i><span>Units</span></button>
                        <button onclick="switchToolBtn(this, 'tool-cron')" class="tool-select-btn"><i class="fas fa-clock"></i><span>Cron Gen</span></button>
                        <button onclick="switchToolBtn(this, 'tool-cidr')" class="tool-select-btn"><i class="fas fa-network-wired"></i><span>CIDR Calc</span></button>
                        <button onclick="switchToolBtn(this, 'tool-port')" class="tool-select-btn"><i class="fas fa-ethernet"></i><span>Ports</span></button>
                        <button onclick="switchToolBtn(this, 'tool-dns')" class="tool-select-btn"><i class="fas fa-globe"></i><span>DNS</span></button>
                        <button onclick="switchToolBtn(this, 'tool-ip')" class="tool-select-btn"><i class="fas fa-laptop-code"></i><span>My IP</span></button>
                        <button onclick="switchToolBtn(this, 'tool-ssl')" class="tool-select-btn"><i class="fas fa-certificate"></i><span>SSL Dec</span></button>
                        <button onclick="switchToolBtn(this, 'tool-hash')" class="tool-select-btn"><i class="fas fa-fingerprint"></i><span>Hash Gen</span></button>
                        <button onclick="switchToolBtn(this, 'tool-pass')" class="tool-select-btn"><i class="fas fa-shield-alt"></i><span>Secrets</span></button>
                        <button onclick="switchToolBtn(this, 'tool-chmod')" class="tool-select-btn"><i class="fas fa-calculator"></i><span>Chmod</span></button>
                    </div>
                </div>

                <div id="mode-games" class="hidden max-w-5xl mx-auto mb-10 reveal">
                     <div class="grid grid-cols-2 md:grid-cols-5 gap-4">
                        <button onclick="switchGame('game-vim')" class="p-4 bg-gray-100 dark:bg-gray-800 rounded-xl hover:bg-green-100 dark:hover:bg-green-900/30 transition border border-transparent hover:border-green-500 group">
                            <div class="text-3xl mb-2"></div><div class="font-bold text-sm">Escape Vim</div>
                        </button>
                        <button onclick="switchGame('game-bug')" class="p-4 bg-gray-100 dark:bg-gray-800 rounded-xl hover:bg-red-100 dark:hover:bg-red-900/30 transition border border-transparent hover:border-red-500 group">
                            <div class="text-3xl mb-2"></div><div class="font-bold text-sm">Bug Smasher</div>
                        </button>
                        <button onclick="switchGame('game-dino')" class="p-4 bg-gray-100 dark:bg-gray-800 rounded-xl hover:bg-blue-100 dark:hover:bg-blue-900/30 transition border border-transparent hover:border-blue-500 group">
                            <div class="text-3xl mb-2"></div><div class="font-bold text-sm">Dino Deploy</div>
                        </button>
                        <button onclick="switchGame('game-tictactoe')" class="p-4 bg-gray-100 dark:bg-gray-800 rounded-xl hover:bg-purple-100 dark:hover:bg-purple-900/30 transition border border-transparent hover:border-purple-500 group">
                            <div class="text-3xl mb-2"></div><div class="font-bold text-sm">CI vs CD</div>
                        </button>
                        <button onclick="switchGame('game-snake')" class="p-4 bg-gray-100 dark:bg-gray-800 rounded-xl hover:bg-yellow-100 dark:hover:bg-yellow-900/30 transition border border-transparent hover:border-yellow-500 group">
                            <div class="text-3xl mb-2"></div><div class="font-bold text-sm">Python Eater</div>
                        </button>
                    </div>
                </div>
                
                <div class="glass-panel p-1 rounded-2xl border border-white/50 dark:border-white/10 mx-auto max-w-6xl shadow-2xl overflow-hidden min-h-[500px] relative transition-all duration-300" id="tool-container">
                    <div id="game-vim" class="tool-view hidden h-full flex flex-col items-center justify-center relative overflow-hidden bg-gray-900 text-green-400 font-mono p-8">
                        <div class="absolute inset-0 bg-black opacity-50"></div>
                        <div class="relative z-10 text-center">
                            <h3 class="text-2xl font-bold mb-8">VIM EXIT CHALLENGE</h3>
                            <p class="mb-12 text-sm text-gray-400">Type :q! to exit... just kidding, click the button.</p>
                            <button id="vim-btn" onmouseover="moveVimBtn()" onclick="alert('Congratulations! You are a Senior DevOps Engineer now.')" class="px-6 py-2 bg-gray-700 border border-green-500 text-green-500 rounded hover:bg-gray-600 transition-all absolute" style="top: 50%; left: 50%; transform: translate(-50%, -50%);">
                                :q!
                            </button>
                        </div>
                    </div>

                    <div id="game-bug" class="tool-view hidden h-full flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 p-8">
                        <div class="flex justify-between w-full max-w-md mb-4">
                            <div class="font-bold text-xl">Score: <span id="bugScore" class="text-primary">0</span></div>
                            <div class="font-bold text-xl">Time: <span id="bugTime" class="text-red-500">30</span>s</div>
                        </div>
                        <div class="grid grid-cols-3 gap-2 w-full max-w-md h-80">
                            <div class="bug-slot bg-gray-200 dark:bg-gray-800 rounded-lg relative cursor-pointer overflow-hidden" onclick="hitBug(0)"></div>
                            <div class="bug-slot bg-gray-200 dark:bg-gray-800 rounded-lg relative cursor-pointer overflow-hidden" onclick="hitBug(1)"></div>
                            <div class="bug-slot bg-gray-200 dark:bg-gray-800 rounded-lg relative cursor-pointer overflow-hidden" onclick="hitBug(2)"></div>
                            <div class="bug-slot bg-gray-200 dark:bg-gray-800 rounded-lg relative cursor-pointer overflow-hidden" onclick="hitBug(3)"></div>
                            <div class="bug-slot bg-gray-200 dark:bg-gray-800 rounded-lg relative cursor-pointer overflow-hidden" onclick="hitBug(4)"></div>
                            <div class="bug-slot bg-gray-200 dark:bg-gray-800 rounded-lg relative cursor-pointer overflow-hidden" onclick="hitBug(5)"></div>
                            <div class="bug-slot bg-gray-200 dark:bg-gray-800 rounded-lg relative cursor-pointer overflow-hidden" onclick="hitBug(6)"></div>
                            <div class="bug-slot bg-gray-200 dark:bg-gray-800 rounded-lg relative cursor-pointer overflow-hidden" onclick="hitBug(7)"></div>
                            <div class="bug-slot bg-gray-200 dark:bg-gray-800 rounded-lg relative cursor-pointer overflow-hidden" onclick="hitBug(8)"></div>
                        </div>
                        <button onclick="startBugGame()" class="mt-6 btn-glow px-8 py-2">Start Debugging</button>
                    </div>

                    <div id="game-dino" class="tool-view hidden h-full flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 p-4 relative">
                        <canvas id="dinoCanvas" width="600" height="200" class="border-b-2 border-gray-400 dark:border-gray-600 bg-white dark:bg-gray-800 rounded-lg cursor-pointer max-w-full"></canvas>
                        <div class="mt-4 text-center">
                            <p class="text-sm text-gray-500 mb-2">Press SPACE or Click to Jump over Firewalls</p>
                            <button onclick="startDinoGame()" class="btn-glow px-6 py-2 text-sm">Deploy / Restart</button>
                        </div>
                        <div id="dinoScore" class="absolute top-8 right-12 font-mono font-bold text-xl text-gray-400">0</div>
                    </div>

                    <div id="game-tictactoe" class="tool-view hidden h-full flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 p-8">
                        <h3 class="text-2xl font-bold mb-2">CI (You) vs CD (Bot)</h3>
                        <div id="ttt-status" class="mb-4 text-primary font-bold">Your Turn</div>
                        <div class="grid grid-cols-3 gap-2 w-64 h-64">
                            <div onclick="tttMove(0)" class="ttt-cell bg-white dark:bg-gray-800 rounded cursor-pointer flex items-center justify-center text-3xl font-bold border dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"></div>
                            <div onclick="tttMove(1)" class="ttt-cell bg-white dark:bg-gray-800 rounded cursor-pointer flex items-center justify-center text-3xl font-bold border dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"></div>
                            <div onclick="tttMove(2)" class="ttt-cell bg-white dark:bg-gray-800 rounded cursor-pointer flex items-center justify-center text-3xl font-bold border dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"></div>
                            <div onclick="tttMove(3)" class="ttt-cell bg-white dark:bg-gray-800 rounded cursor-pointer flex items-center justify-center text-3xl font-bold border dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"></div>
                            <div onclick="tttMove(4)" class="ttt-cell bg-white dark:bg-gray-800 rounded cursor-pointer flex items-center justify-center text-3xl font-bold border dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"></div>
                            <div onclick="tttMove(5)" class="ttt-cell bg-white dark:bg-gray-800 rounded cursor-pointer flex items-center justify-center text-3xl font-bold border dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"></div>
                            <div onclick="tttMove(6)" class="ttt-cell bg-white dark:bg-gray-800 rounded cursor-pointer flex items-center justify-center text-3xl font-bold border dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"></div>
                            <div onclick="tttMove(7)" class="ttt-cell bg-white dark:bg-gray-800 rounded cursor-pointer flex items-center justify-center text-3xl font-bold border dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"></div>
                            <div onclick="tttMove(8)" class="ttt-cell bg-white dark:bg-gray-800 rounded cursor-pointer flex items-center justify-center text-3xl font-bold border dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-700"></div>
                        </div>
                        <button onclick="resetTTT()" class="mt-6 btn-glow px-6 py-2">Restart Build</button>
                    </div>

                    <div id="game-snake" class="tool-view hidden h-full flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 p-4">
                        <h3 class="text-xl font-bold mb-2">Python Memory Eater</h3>
                        <canvas id="snakeCanvas" width="400" height="400" class="bg-gray-200 dark:bg-black border border-gray-400 rounded max-w-full"></canvas>
                        <div class="flex justify-between w-full max-w-[400px] mt-2">
                            <span class="text-sm text-gray-500">Arrows to move</span>
                            <span class="font-bold">RAM Consumed: <span id="snakeScore">0</span>MB</span>
                        </div>
                        <button onclick="initSnake()" class="mt-4 btn-glow px-6 py-2">Run Script</button>
                    </div>

                    <div id="tool-editor" class="tool-view h-full">
                        <div class="bg-gray-100 dark:bg-gray-900/90 px-4 py-3 border-b border-gray-200 dark:border-gray-800 flex justify-between items-center">
                            <div class="flex items-center gap-2"><div class="flex gap-1.5"><div class="w-3 h-3 rounded-full bg-red-500"></div><div class="w-3 h-3 rounded-full bg-yellow-500"></div><div class="w-3 h-3 rounded-full bg-green-500"></div></div><span class="text-xs font-bold text-gray-500 uppercase ml-2 hidden sm:inline">Editor.yaml</span></div>
                            <div class="flex gap-2">
                                <button onclick="copyToClipboard('yamlInput')" class="text-xs bg-gray-200 dark:bg-gray-700 px-2 py-1 rounded text-gray-600 dark:text-gray-300 hover:bg-gray-300"><i class="fas fa-copy"></i> Copy</button>
                                <select onchange="loadYamlTemplate(this.value)" class="bg-white dark:bg-gray-800 text-xs rounded px-2 py-1 border border-gray-300 dark:border-gray-700 max-w-[120px] sm:max-w-none">
                                    <option value="" disabled selected>Load Template</option>
                                    <option value="k8s_pod">K8s Pod</option>
                                    <option value="k8s_svc">K8s Service</option>
                                    <option value="github_action">GitHub Action</option>
                                    <option value="jenkins_pipeline">Jenkins Pipeline</option>
                                    <option value="ansible_playbook">Ansible Playbook</option>
                                    <option value="dockerfile">Dockerfile</option>
                                    <option value="docker_compose">Docker Compose</option>
                                </select>
                                <button onclick="clearYaml()" class="text-gray-400 hover:text-red-500"><i class="fas fa-trash"></i></button>
                            </div>
                        </div>
                        <div class="flex flex-col md:flex-row h-[500px] bg-gray-50 dark:bg-[#0d1117]">
                            <div class="w-full md:w-1/2 flex flex-col border-r border-gray-200 dark:border-gray-800 relative h-1/2 md:h-full">
                                <textarea id="yamlInput" class="flex-grow p-4 font-mono text-sm bg-transparent resize-none focus:outline-none text-gray-800 dark:text-gray-300" placeholder="# Paste YAML/JSON here..." oninput="validateYaml()"></textarea>
                                <div class="absolute bottom-2 right-2 flex gap-1 bg-white/80 dark:bg-gray-800/80 p-1 rounded border border-gray-200 dark:border-gray-700">
                                    <button onclick="minifyJson()" class="px-2 py-1 text-[10px] font-bold hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-gray-600 dark:text-gray-300">MINIFY</button>
                                    <button onclick="prettifyJson()" class="px-2 py-1 text-[10px] font-bold hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-gray-600 dark:text-gray-300">PRETTIFY</button>
                                    <button onclick="convertYamlToJson()" class="px-2 py-1 text-[10px] font-bold hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-gray-600 dark:text-gray-300">TO JSON</button>
                                    <button onclick="convertJsonToYaml()" class="px-2 py-1 text-[10px] font-bold hover:bg-gray-200 dark:hover:bg-gray-700 rounded text-gray-600 dark:text-gray-300">TO YAML</button>
                                </div>
                            </div>
                            <div class="w-full md:w-1/2 flex flex-col bg-gray-100 dark:bg-[#0d1117] h-1/2 md:h-full">
                                <div class="px-4 py-1 text-[10px] font-bold text-gray-500 bg-gray-200 dark:bg-gray-800 flex justify-between"><span>OUTPUT</span><span id="yamlStatus">Ready</span></div>
                                <div id="yamlOutput" class="flex-grow p-4 font-mono text-xs overflow-auto whitespace-pre-wrap text-green-600 dark:text-green-400"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="tool-diff" class="tool-view hidden h-full flex flex-col">
                         <div class="p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center">
                            <h3 class="font-bold text-lg text-primary">Text Diff Checker (Robust)</h3>
                            <button onclick="runDiff()" class="btn-glow px-4 py-1 text-xs">Compare</button>
                        </div>
                        <div class="flex flex-col md:flex-row h-full">
                            <div class="flex-1 flex flex-col border-r border-gray-200 dark:border-gray-700 p-2 h-1/3 md:h-full">
                                <label class="text-xs font-bold text-gray-500 mb-1">Original Text</label>
                                <textarea id="diffA" class="flex-grow p-3 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded resize-none font-mono text-xs" placeholder="Paste original text..."></textarea>
                            </div>
                            <div class="flex-1 flex flex-col p-2 border-r border-gray-200 dark:border-gray-700 h-1/3 md:h-full">
                                <label class="text-xs font-bold text-gray-500 mb-1">Modified Text</label>
                                <textarea id="diffB" class="flex-grow p-3 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded resize-none font-mono text-xs" placeholder="Paste modified text..."></textarea>
                            </div>
                            <div class="flex-1 flex flex-col p-2 bg-gray-100 dark:bg-black/30 h-1/3 md:h-full">
                                <label class="text-xs font-bold text-gray-500 mb-1">Comparison Output</label>
                                <div id="diffOutput" class="flex-grow p-3 overflow-auto font-mono text-xs whitespace-pre-wrap"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="tool-hash" class="tool-view hidden p-8 h-full flex flex-col items-center justify-center">
                        <i class="fas fa-fingerprint text-5xl text-purple-500 mb-6"></i>
                        <h3 class="text-2xl font-bold mb-6">Crypto Hash Generator</h3>
                        <div class="w-full max-w-2xl">
                            <input type="text" id="hashInput" placeholder="Enter text to hash..." class="w-full p-4 rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 mb-4" oninput="generateHash()">
                            <div class="space-y-4">
                                <div class="bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-200 dark:border-gray-700 relative">
                                    <div class="text-xs text-gray-400 font-bold mb-1">SHA-256</div>
                                    <div id="sha256" class="font-mono text-xs break-all text-green-600 dark:text-green-400"></div>
                                    <button onclick="copyToClipboard('sha256')" class="absolute top-2 right-2 text-gray-400 hover:text-primary"><i class="fas fa-copy"></i></button>
                                </div>
                                <div class="bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-200 dark:border-gray-700 relative">
                                    <div class="text-xs text-gray-400 font-bold mb-1">SHA-512</div>
                                    <div id="sha512" class="font-mono text-xs break-all text-blue-600 dark:text-blue-400"></div>
                                    <button onclick="copyToClipboard('sha512')" class="absolute top-2 right-2 text-gray-400 hover:text-primary"><i class="fas fa-copy"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="tool-unit" class="tool-view hidden p-8 h-full flex flex-col items-center justify-center">
                        <i class="fas fa-weight-hanging text-5xl text-pink-500 mb-6"></i>
                        <h3 class="text-2xl font-bold mb-6">Digital Unit Converter</h3>
                        <div class="flex flex-col sm:flex-row gap-4 w-full max-w-xl items-end">
                            <div class="flex-1 w-full">
                                <label class="text-xs font-bold mb-1">Value</label>
                                <input type="number" id="unitVal" class="w-full p-3 rounded-lg border dark:bg-gray-800 dark:border-gray-700" oninput="convertUnits()">
                            </div>
                            <div class="flex-1 w-full">
                                <label class="text-xs font-bold mb-1">From</label>
                                <select id="unitFrom" class="w-full p-3 rounded-lg border dark:bg-gray-800 dark:border-gray-700" onchange="convertUnits()">
                                    <option value="B">Bytes (B)</option><option value="KB">Kilobytes (KB)</option>
                                    <option value="MB" selected>Megabytes (MB)</option><option value="GB">Gigabytes (GB)</option>
                                    <option value="TB">Terabytes (TB)</option>
                                </select>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4 mt-8 w-full max-w-2xl">
                            <div class="bg-gray-50 dark:bg-gray-800 p-3 rounded text-center"><div class="text-xs text-gray-400">Bytes</div><div id="outB" class="font-mono font-bold break-all">0</div></div>
                            <div class="bg-gray-50 dark:bg-gray-800 p-3 rounded text-center"><div class="text-xs text-gray-400">Kilobytes</div><div id="outKB" class="font-mono font-bold break-all">0</div></div>
                            <div class="bg-gray-50 dark:bg-gray-800 p-3 rounded text-center"><div class="text-xs text-gray-400">Megabytes</div><div id="outMB" class="font-mono font-bold break-all">0</div></div>
                            <div class="bg-gray-50 dark:bg-gray-800 p-3 rounded text-center"><div class="text-xs text-gray-400">Gigabytes</div><div id="outGB" class="font-mono font-bold break-all">0</div></div>
                            <div class="bg-gray-50 dark:bg-gray-800 p-3 rounded text-center"><div class="text-xs text-gray-400">Terabytes</div><div id="outTB" class="font-mono font-bold break-all">0</div></div>
                            <div class="bg-gray-50 dark:bg-gray-800 p-3 rounded text-center"><div class="text-xs text-gray-400">Petabytes</div><div id="outPB" class="font-mono font-bold break-all">0</div></div>
                        </div>
                    </div>

                    <div id="tool-csv" class="tool-view hidden p-6 h-full flex flex-col">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="font-bold text-lg text-emerald-600"><i class="fas fa-table mr-2"></i>JSON <-> CSV Converter</h3>
                            <div class="flex gap-2">
                                <button onclick="downloadFile('csvOutput', 'data.csv', 'text/csv')" class="text-xs bg-emerald-100 text-emerald-700 px-3 py-1 rounded hover:bg-emerald-200"><i class="fas fa-download"></i> CSV</button>
                                <button onclick="downloadFile('csvJsonInput', 'data.json', 'application/json')" class="text-xs bg-blue-100 text-blue-700 px-3 py-1 rounded hover:bg-blue-200"><i class="fas fa-download"></i> JSON</button>
                            </div>
                        </div>
                        <div class="flex flex-col md:flex-row gap-4 h-full">
                            <div class="flex-1 flex flex-col">
                                <label class="text-xs font-bold mb-2">JSON Input</label>
                                <textarea id="csvJsonInput" class="flex-grow p-3 rounded-xl bg-gray-100 dark:bg-gray-800 border-none resize-none font-mono text-xs" placeholder='[{"name": "Rahul", "role": "DevOps"}, ...]'></textarea>
                            </div>
                            <div class="flex flex-col justify-center gap-3">
                                <button onclick="jsonToCsv()" class="btn-glow px-4 py-2 text-xs"><i class="fas fa-arrow-right"></i> To CSV</button>
                                <button onclick="csvToJson()" class="btn-glow-secondary px-4 py-2 text-xs"><i class="fas fa-arrow-left"></i> To JSON</button>
                            </div>
                            <div class="flex-1 flex flex-col">
                                <label class="text-xs font-bold mb-2">CSV Output</label>
                                <textarea id="csvOutput" class="flex-grow p-3 rounded-xl bg-gray-100 dark:bg-gray-800 border-none resize-none font-mono text-xs whitespace-pre" placeholder="name,role&#10;Rahul,DevOps"></textarea>
                            </div>
                        </div>
                    </div>

                    <div id="tool-cron" class="tool-view hidden p-8 h-full flex flex-col items-center justify-center text-center">
                        <div class="w-full max-w-4xl flex flex-col md:flex-row gap-8 items-start">
                             <div class="w-full md:w-1/2 flex flex-col items-center">
                                <i class="fas fa-clock text-4xl text-purple-500 mb-4"></i>
                                <h3 class="text-xl font-bold mb-4">Cron Generator</h3>
                                <div class="mb-4 w-full">
                                    <select onchange="applyCronPreset(this.value)" class="w-full p-2 rounded border dark:bg-gray-800 dark:border-gray-700 text-xs font-semibold">
                                        <option value="" disabled selected>-- Quick Presets --</option>
                                        <option value="* * * * *">Every Minute</option>
                                        <option value="*/5 * * * *">Every 5 Minutes</option>
                                        <option value="0 * * * *">Hourly</option>
                                        <option value="0 0 * * *">Daily (Midnight)</option>
                                        <option value="0 9 * * 1-5">Weekdays 9AM</option>
                                    </select>
                                </div>
                                <div class="flex flex-wrap gap-1 justify-center mb-6">
                                    <div class="flex flex-col"><label class="text-[9px] font-bold uppercase">Min</label><select id="cronMin" onchange="updateCron()" class="p-1 text-sm border rounded dark:bg-gray-800 w-16"></select></div>
                                    <div class="flex flex-col"><label class="text-[9px] font-bold uppercase">Hour</label><select id="cronHour" onchange="updateCron()" class="p-1 text-sm border rounded dark:bg-gray-800 w-16"></select></div>
                                    <div class="flex flex-col"><label class="text-[9px] font-bold uppercase">Day</label><select id="cronDay" onchange="updateCron()" class="p-1 text-sm border rounded dark:bg-gray-800 w-16"></select></div>
                                    <div class="flex flex-col"><label class="text-[9px] font-bold uppercase">Mon</label><select id="cronMonth" onchange="updateCron()" class="p-1 text-sm border rounded dark:bg-gray-800 w-16"></select></div>
                                    <div class="flex flex-col"><label class="text-[9px] font-bold uppercase">Week</label><select id="cronWeek" onchange="updateCron()" class="p-1 text-sm border rounded dark:bg-gray-800 w-16"></select></div>
                                </div>
                                <div class="text-2xl font-mono font-bold bg-gray-100 dark:bg-gray-800 p-4 rounded-xl border border-purple-500 text-purple-600 dark:text-purple-400 w-full text-center shadow-inner" id="cronOutput">* * * * *</div>
                                <div class="mt-2 text-gray-500 text-xs font-medium" id="cronDesc">Run every minute</div>
                            </div>
                            <div class="w-full md:w-1/2 bg-gray-50 dark:bg-gray-800/50 rounded-xl p-6 border border-gray-200 dark:border-gray-700 h-full">
                                <h4 class="font-bold text-sm text-gray-500 uppercase mb-3 tracking-wider">Scheduled Execution Times</h4>
                                <ul id="cronNextRuns" class="space-y-2 text-sm font-mono text-gray-700 dark:text-gray-300">
                                    <li class="flex items-center gap-2"><div class="w-2 h-2 bg-green-500 rounded-full"></div> Calculating...</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div id="tool-port" class="tool-view hidden p-8 h-full flex flex-col items-center justify-center text-center">
                        <i class="fas fa-ethernet text-5xl text-orange-500 mb-6"></i>
                        <h3 class="text-2xl font-bold mb-4">Common Port Checker</h3>
                        <p class="text-gray-500 text-sm mb-6">Database of 50+ common DevOps service ports.</p>
                        <input type="number" id="portInput" placeholder="e.g. 6379" class="w-full max-w-xs p-4 text-center text-xl border-2 border-orange-200 dark:border-gray-700 rounded-xl mb-6 bg-white dark:bg-gray-800 outline-none focus:border-orange-500" oninput="checkPort()">
                        <div id="portResult" class="text-xl font-bold text-gray-700 dark:text-gray-300">Enter a port number...</div>
                    </div>

                    <div id="tool-cidr" class="tool-view hidden p-8 h-full flex flex-col items-center justify-center text-center">
                        <i class="fas fa-network-wired text-5xl text-cyan-500 mb-6"></i>
                        <h3 class="text-2xl font-bold mb-6 text-gray-900 dark:text-white">Subnet Calculator</h3>
                        <input type="text" id="cidrInput" placeholder="192.168.1.0/24" class="w-full max-w-md p-4 bg-white dark:bg-gray-800 rounded-xl border-2 border-gray-200 dark:border-gray-700 text-center font-mono text-xl focus:border-cyan-500 outline-none mb-8" onkeyup="calculateCidr()">
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-4 w-full max-w-4xl text-left">
                            <div class="bg-gray-100 dark:bg-gray-800/50 p-4 rounded-xl"><div class="text-xs text-gray-500 uppercase">Netmask</div><div id="cidrNetmask" class="font-mono font-bold text-sm">-</div></div>
                            <div class="bg-gray-100 dark:bg-gray-800/50 p-4 rounded-xl"><div class="text-xs text-gray-500 uppercase">Total Hosts</div><div id="cidrHosts" class="font-mono font-bold text-primary text-sm">-</div></div>
                            <div class="bg-gray-100 dark:bg-gray-800/50 p-4 rounded-xl"><div class="text-xs text-gray-500 uppercase">Usable Range</div><div id="cidrRange" class="font-mono font-bold text-sm text-green-600 dark:text-green-400">-</div></div>
                            <div class="bg-gray-100 dark:bg-gray-800/50 p-4 rounded-xl"><div class="text-xs text-gray-500 uppercase">First IP</div><div id="cidrFirst" class="font-mono font-bold text-sm">-</div></div>
                            <div class="bg-gray-100 dark:bg-gray-800/50 p-4 rounded-xl"><div class="text-xs text-gray-500 uppercase">Last IP</div><div id="cidrLast" class="font-mono font-bold text-sm">-</div></div>
                            <div class="bg-gray-100 dark:bg-gray-800/50 p-4 rounded-xl"><div class="text-xs text-gray-500 uppercase">Binary Mask</div><div id="cidrBinary" class="font-mono font-bold text-[10px] truncate" title="Binary">-</div></div>
                        </div>
                    </div>

                    <div id="tool-base64" class="tool-view hidden p-6 h-full flex flex-col">
                        <h3 class="font-bold text-lg mb-4 text-primary"><i class="fas fa-lock mr-2"></i>Base64 Converter</h3>
                        <div class="grid md:grid-cols-2 gap-6 h-full">
                            <div class="flex flex-col"><label class="text-xs font-bold mb-2">Input</label><textarea id="b64Input" class="flex-grow p-3 rounded-xl bg-gray-100 dark:bg-gray-800 border-none resize-none focus:ring-1 focus:ring-primary" placeholder="Type here..."></textarea></div>
                            <div class="flex flex-col"><label class="text-xs font-bold mb-2">Output</label><textarea id="b64Output" class="flex-grow p-3 rounded-xl bg-gray-200 dark:bg-gray-900 border-none resize-none font-mono text-sm" readonly></textarea></div>
                        </div>
                        <div class="flex justify-center gap-4 mt-6">
                            <button onclick="runBase64('enc')" class="px-6 py-2 btn-glow">Encode <i class="fas fa-arrow-right ml-1"></i></button>
                            <button onclick="runBase64('dec')" class="px-6 py-2 btn-glow-secondary text-sm"><i class="fas fa-arrow-left mr-1"></i> Decode</button>
                        </div>
                    </div>

                    <div id="tool-jwt" class="tool-view hidden p-6 h-full flex flex-col">
                        <h3 class="font-bold text-lg mb-4 text-pink-600"><i class="fas fa-key mr-2"></i>JWT Debugger</h3>
                        <div class="flex flex-col md:flex-row gap-6 h-full">
                            <div class="w-full md:w-1/2 flex flex-col">
                                <label class="text-xs font-bold mb-2 text-gray-500">Encoded Token</label>
                                <textarea id="jwtInput" class="flex-grow p-4 rounded-xl bg-gray-100 dark:bg-gray-800 border-2 border-pink-500/20 focus:border-pink-500 outline-none font-mono text-xs resize-none text-pink-600 dark:text-pink-400 break-all" placeholder="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." oninput="decodeJwt()"></textarea>
                            </div>
                            <div class="w-full md:w-1/2 flex flex-col gap-4">
                                <div class="flex-1 bg-gray-50 dark:bg-gray-900 rounded-xl p-4 border border-gray-200 dark:border-gray-800 relative">
                                    <div class="text-xs font-bold text-red-500 mb-1">HEADER</div>
                                    <pre id="jwtHeader" class="text-xs font-mono text-gray-600 dark:text-gray-300 whitespace-pre-wrap">{}</pre>
                                </div>
                                <div class="flex-[2] bg-gray-50 dark:bg-gray-900 rounded-xl p-4 border border-gray-200 dark:border-gray-800 relative">
                                    <div class="text-xs font-bold text-purple-500 mb-1">PAYLOAD</div>
                                    <pre id="jwtPayload" class="text-xs font-mono text-gray-600 dark:text-gray-300 whitespace-pre-wrap">{}</pre>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="tool-url" class="tool-view hidden p-6 h-full flex flex-col">
                        <h3 class="font-bold text-lg mb-4 text-orange-500"><i class="fas fa-link mr-2"></i>URL Encoder/Decoder</h3>
                         <div class="grid md:grid-cols-2 gap-6 h-full">
                            <div class="flex flex-col"><label class="text-xs font-bold mb-2">String</label><textarea id="urlInput" class="flex-grow p-3 rounded-xl bg-gray-100 dark:bg-gray-800 border-none resize-none" placeholder="Enter URL or string..." oninput="runUrlTool()"></textarea></div>
                            <div class="flex flex-col">
                                <label class="text-xs font-bold mb-2">Result</label>
                                <div class="flex gap-2 mb-2">
                                    <button onclick="setUrlMode('enc')" class="flex-1 py-1 text-xs bg-orange-100 dark:bg-orange-900/30 text-orange-600 rounded">Encode</button>
                                    <button onclick="setUrlMode('dec')" class="flex-1 py-1 text-xs bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded">Decode</button>
                                </div>
                                <textarea id="urlOutput" class="flex-grow p-3 rounded-xl bg-gray-200 dark:bg-gray-900 border-none resize-none font-mono text-sm" readonly></textarea>
                            </div>
                        </div>
                    </div>

                    <div id="tool-dns" class="tool-view hidden p-8 h-full flex flex-col items-center">
                        <i class="fas fa-globe text-5xl text-blue-500 mb-4"></i>
                        <h3 class="text-2xl font-bold mb-2 text-gray-900 dark:text-white">DNS Lookup</h3>
                        <div class="flex w-full max-w-lg gap-2 mb-8">
                            <select id="dnsType" class="bg-gray-100 dark:bg-gray-800 rounded-lg px-4 font-bold border border-gray-300 dark:border-gray-700"><option value="A">A</option><option value="CNAME">CNAME</option><option value="MX">MX</option><option value="TXT">TXT</option><option value="NS">NS</option></select>
                            <input type="text" id="dnsDomain" placeholder="example.com" class="flex-grow p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg outline-none">
                            <button onclick="fetchDns()" class="btn-glow px-6 py-2">Check</button>
                        </div>
                        <div id="dnsResult" class="w-full max-w-2xl bg-gray-50 dark:bg-gray-900 rounded-xl p-6 min-h-[200px] font-mono text-sm text-gray-600 dark:text-gray-300 whitespace-pre-wrap border border-gray-200 dark:border-gray-800">Results will appear here...</div>
                    </div>

                    <div id="tool-ip" class="tool-view hidden p-8 h-full flex flex-col items-center justify-center text-center">
                        <i class="fas fa-laptop-code text-6xl text-green-500 mb-6"></i>
                        <h3 class="text-xl font-bold mb-2">System & Network Inspector</h3>
                        <p class="text-gray-500 text-sm mb-8">Detailed local browser and network connectivity report.</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-3xl">
                             <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-2xl border border-gray-200 dark:border-gray-700 flex flex-col items-center">
                                 <div class="text-xs font-bold text-gray-400 uppercase mb-2">Public IPv4</div>
                                 <div id="myIpDisplay" class="text-3xl font-mono font-bold text-gray-900 dark:text-white mb-2">---.---.---.---</div>
                                 <div id="ipOrg" class="text-xs text-blue-500 font-bold">Checking...</div>
                             </div>
                             
                             <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-2xl border border-gray-200 dark:border-gray-700 text-left space-y-3">
                                 <div class="flex justify-between border-b border-gray-300 dark:border-gray-600 pb-2">
                                     <span class="text-xs font-bold text-gray-500">User Agent</span>
                                     <span id="sysUA" class="text-xs font-mono text-right truncate w-32">...</span>
                                 </div>
                                 <div class="flex justify-between border-b border-gray-300 dark:border-gray-600 pb-2">
                                     <span class="text-xs font-bold text-gray-500">Screen Res</span>
                                     <span id="sysRes" class="text-xs font-mono font-bold">...</span>
                                 </div>
                                 <div class="flex justify-between border-b border-gray-300 dark:border-gray-600 pb-2">
                                     <span class="text-xs font-bold text-gray-500">Timezone</span>
                                     <span id="sysTime" class="text-xs font-mono font-bold">...</span>
                                 </div>
                                 <div class="flex justify-between">
                                     <span class="text-xs font-bold text-gray-500">Est. Latency</span>
                                     <span id="sysPing" class="text-xs font-mono font-bold text-green-500">...</span>
                                 </div>
                             </div>
                        </div>
                        <button onclick="fetchMyIp()" class="btn-glow px-6 py-3 mt-8">Refresh Analysis</button>
                    </div>

                    <div id="tool-ssl" class="tool-view hidden p-6 h-full flex flex-col">
                        <h3 class="font-bold text-lg mb-4 text-teal-600"><i class="fas fa-certificate mr-2"></i>Certificate Decoder</h3>
                        <div class="flex flex-col md:flex-row gap-6 h-full">
                             <div class="w-full md:w-1/2 flex flex-col">
                                <label class="text-xs font-bold mb-2">Paste PEM Certificate</label>
                                <textarea id="sslInput" class="flex-grow p-4 rounded-xl bg-gray-100 dark:bg-gray-800 border-none font-mono text-xs resize-none" placeholder="-----BEGIN CERTIFICATE-----..." oninput="decodeCert()"></textarea>
                            </div>
                            <div class="w-full md:w-1/2 bg-gray-50 dark:bg-gray-900 rounded-xl p-6 border border-gray-200 dark:border-gray-800 overflow-auto">
                                <div id="sslOutput" class="space-y-4 text-sm"><div class="text-center text-gray-400 mt-10">Details will appear here...</div></div>
                            </div>
                        </div>
                    </div>

                    <div id="tool-regex" class="tool-view hidden p-6 h-full flex flex-col">
                        <h3 class="font-bold text-lg mb-4 text-indigo-500"><i class="fas fa-code mr-2"></i>Regex Tester</h3>
                        <div class="flex gap-2 mb-4">
                            <input type="text" id="regexPattern" placeholder="Pattern (e.g. ^[a-z]+$)" class="flex-[3] p-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 font-mono text-sm" oninput="runRegex()">
                            <input type="text" id="regexFlags" placeholder="Flags (gmi)" value="gm" class="flex-1 p-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 font-mono text-sm" oninput="runRegex()">
                        </div>
                        <label class="text-xs font-bold mb-1">Test String</label>
                        <textarea id="regexString" class="h-32 p-3 rounded-lg bg-gray-100 dark:bg-gray-800 border-none font-mono text-sm resize-none mb-4" placeholder="Paste text here..." oninput="runRegex()"></textarea>
                        <label class="text-xs font-bold mb-1">Matches</label>
                        <div id="regexOutput" class="flex-grow bg-gray-200 dark:bg-gray-900 rounded-lg p-3 font-mono text-sm overflow-auto text-gray-700 dark:text-gray-300"></div>
                    </div>

                    <div id="tool-chmod" class="tool-view hidden p-8 h-full flex flex-col items-center justify-center">
                        <h3 class="font-bold text-2xl mb-6 text-gray-900 dark:text-white">Chmod Calculator</h3>
                        <div class="flex items-center gap-4 mb-8">
                             <div class="text-6xl font-mono font-bold text-primary" id="chmodResult">644</div>
                             <div class="text-2xl font-mono text-gray-400 bg-gray-100 dark:bg-gray-800 px-4 py-2 rounded-lg" id="chmodSymbolic">-rw-r--r--</div>
                        </div>
                        <div class="grid grid-cols-3 gap-8 text-center">
                            <div class="space-y-3"><div class="font-bold text-sm uppercase text-gray-400">Owner</div><input type="checkbox" class="w-5 h-5 chmod-check" data-val="400" onchange="calcChmod()"><br><input type="checkbox" class="w-5 h-5 chmod-check" data-val="200" onchange="calcChmod()"><br><input type="checkbox" class="w-5 h-5 chmod-check" data-val="100" onchange="calcChmod()"></div>
                            <div class="space-y-3"><div class="font-bold text-sm uppercase text-gray-400">Group</div><input type="checkbox" class="w-5 h-5 chmod-check" data-val="40" onchange="calcChmod()"><br><input type="checkbox" class="w-5 h-5 chmod-check" data-val="20" onchange="calcChmod()"><br><input type="checkbox" class="w-5 h-5 chmod-check" data-val="10" onchange="calcChmod()"></div>
                            <div class="space-y-3"><div class="font-bold text-sm uppercase text-gray-400">Public</div><input type="checkbox" class="w-5 h-5 chmod-check" data-val="4" onchange="calcChmod()"><br><input type="checkbox" class="w-5 h-5 chmod-check" data-val="2" onchange="calcChmod()"><br><input type="checkbox" class="w-5 h-5 chmod-check" data-val="1" onchange="calcChmod()"></div>
                        </div>
                    </div>

                    <div id="tool-pass" class="tool-view hidden p-8 h-full flex flex-col items-center justify-center">
                        <i class="fas fa-shield-alt text-5xl text-red-500 mb-4"></i>
                        <h3 class="text-2xl font-bold mb-6">Secret Generator</h3>
                        <div class="w-full max-w-lg relative mb-8">
                            <input type="text" id="passOutput" class="w-full p-4 pr-12 bg-gray-100 dark:bg-gray-800 rounded-xl text-center font-mono text-xl text-gray-800 dark:text-white" readonly value="Click Generate">
                            <button onclick="copyPass()" class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-primary"><i class="fas fa-copy"></i></button>
                        </div>
                        <div class="flex flex-wrap justify-center gap-6 items-center mb-6 bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm">
                            <div class="flex items-center gap-2">
                                <label class="text-sm font-bold">Length:</label>
                                <input type="range" id="passLen" min="8" max="64" value="16" class="w-32" oninput="document.getElementById('lenVal').innerText = this.value; generatePass()">
                                <span id="lenVal" class="font-mono w-6">16</span>
                            </div>
                            <label class="flex items-center gap-2 text-sm"><input type="checkbox" id="passSymbols" checked onchange="generatePass()"> Symbols</label>
                            <label class="flex items-center gap-2 text-sm"><input type="checkbox" id="passNumbers" checked onchange="generatePass()"> Numbers</label>
                        </div>
                        <button onclick="generatePass()" class="btn-glow px-8 py-3 bg-red-600 border-none">Generate New Secret</button>
                    </div>

                </div>
            </div>
        </section>

        <section id="contact" class="tab-content hidden pb-20 reveal">
            <div class="max-w-6xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 rounded-[2.5rem] overflow-hidden reveal">
                    <div class="glass-panel p-10 md:p-12 rounded-[2.5rem] flex flex-col justify-center relative overflow-hidden group">
                        <div class="absolute top-0 right-0 w-40 h-40 bg-blue-500/20 rounded-full blur-3xl -mr-16 -mt-16 animate-pulse-glow"></div>
                        <div class="relative z-10 space-y-8">
                            <div class="border-l-4 border-blue-600 pl-6 py-2">
                                <h3 class="text-xl sm:text-2xl font-extrabold text-gray-900 dark:text-white italic">"Chaos is merely an unconfigured variable."</h3>
                            </div>
                            <div class="border-l-4 border-purple-600 pl-6 py-2">
                                <h3 class="text-lg sm:text-xl font-bold text-gray-800 dark:text-gray-200">Deployment Fridays are for the brave, or the automated.</h3>
                            </div>
                            <div class="border-l-4 border-green-500 pl-6 py-2">
                                <h3 class="text-lg sm:text-xl font-bold text-gray-800 dark:text-gray-200">I don't just fix servers; I engineer sleep.</h3>
                            </div>
                            <div class="mt-8 pt-6 border-t border-gray-200 dark:border-gray-700">
                                <span class="text-3xl sm:text-4xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-400">99.99% Uptime</span>
                                <p class="text-sm text-gray-500 dark:text-gray-400 mt-1 uppercase tracking-widest font-bold">Is not a goal, it's a lifestyle.</p>
                            </div>
                            <h4 class="text-xl font-bold mb-4 text-gray-800 dark:text-gray-200">Why Contact Me?</h4>
                            <ul class="space-y-3 text-gray-600 dark:text-gray-400 text-sm mb-8">
                                <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i> Need a robust AWS/Azure Kubernetes solution.</li>
                                <li class="flex items-start"><i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i> Require CI/CD pipeline automation.</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="glass-panel p-10 md:p-12 rounded-[2.5rem]">
                        <h2 class="text-3xl font-bold mb-3 text-primary">Get In Touch</h2>
                        <p class="text-gray-600 dark:text-gray-400 mb-8">I'll get back to you shortly.</p>
                        <form name="contact" action="/" method="POST" data-netlify="true" netlify-honeypot="bot-field" onsubmit="handleContactSubmit(event)" class="space-y-6">
                            <input type="hidden" name="form-name" value="contact" />
                            <div class="hidden"><label>Don't fill this out if you're human: <input name="bot-field" /></label></div>
                            <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Your Name</label><input type="text" name="name" required class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-primary focus:border-primary bg-white/50 dark:bg-gray-800/50 text-gray-900 dark:text-white transition-colors" placeholder="John Doe"></div>
                            <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Email Address</label><input type="email" name="email" required class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-primary focus:border-primary bg-white/50 dark:bg-gray-800/50 text-gray-900 dark:text-white transition-colors" placeholder="you@example.com"></div>
                            <div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Message</label><textarea name="message" rows="5" required class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-primary focus:border-primary bg-white/50 dark:bg-gray-800/50 text-gray-900 dark:text-white transition-colors" placeholder="Tell me about your project..."></textarea></div>
                            <button type="submit" class="w-full py-4 btn-super-glow text-lg shadow-neon group flex justify-center items-center gap-2">
                                <span>Send Message</span> <i class="fas fa-paper-plane group-hover:translate-x-1 transition-transform"></i>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <footer class="text-center py-4 text-gray-400 text-sm border-t border-gray-200 dark:border-gray-800 bg-white/90 dark:bg-gray-900/90 backdrop-blur-md z-40 shrink-0">
        <p class="mb-1">&copy; 2025 Rahul Magar. All rights reserved.</p>
        <div class="flex justify-center space-x-6 text-xl">
            <a href="https://linkedin.com/in/rahulmagar11" target="_blank" class="hover:text-primary transition"><i class="fab fa-linkedin"></i></a>
            <a href="https://github.com/rahulmagar11" target="_blank" class="hover:text-primary transition"><i class="fab fa-github"></i></a>
            <a href="mailto:rahulmagar11@gmail.com" class="hover:text-primary transition"><i class="fas fa-envelope"></i></a>
        </div>
    </footer>

    <div class="droid-container" id="droid">
        <div class="droid-tooltip">Double-click for Menu</div>
        
        <div class="droid-hud" id="bot-menu" onclick="event.stopPropagation()">
            <div class="hud-top">
                <span class="text-xs font-bold tracking-widest text-gold-dark dark:text-blue-400">ASSISTANT_V4.0</span>
                <div class="hud-status">
                    <div class="hud-dot"></div>
                    ONLINE
                </div>
            </div>
            <div class="hud-voice-row" id="mic-btn" onclick="toggleVoice(this); closeMenu()">
                <div class="hud-voice-text"><div>Voice Command</div><div id="mic-status">Tap to speak...</div></div>
                <div class="hud-voice-icon"><i class="fas fa-microphone"></i></div>
            </div>
            
            <div class="text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2">Available Commands</div>
            <div class="hud-cmd-list">
                <div class="cmd-item">"Go Home"</div>
                <div class="cmd-item">"Open Stack"</div>
                <div class="cmd-item">"Projects"</div>
                <div class="cmd-item">"About Me"</div>
                <div class="cmd-item">"Tell Joke"</div>
                <div class="cmd-item">"Turbo Mode"</div>
                <div class="cmd-item">"System Scan"</div>
                <div class="cmd-item">"Dance"</div>
            </div>
            
            <div class="hud-footer">
                <div class="hud-mini-btn" onclick="toggleTheme(); closeMenu()" title="Toggle Theme"><i class="fas fa-adjust"></i></div>
                <div class="hud-mini-btn" onclick="toggleTurboMode(); closeMenu()" title="Turbo Mode"><i class="fas fa-bolt text-yellow-500"></i></div>
                <div class="hud-mini-btn" onclick="runSystemScan(); closeMenu()" title="Scan System"><i class="fas fa-fingerprint"></i></div>
                <div class="hud-mini-btn" onclick="tellJoke(); closeMenu()" title="Tell Joke"><i class="fas fa-laugh-beam text-pink-500"></i></div>
            </div>
        </div>
        <div class="bot-bubble" id="bot-bubble">Initializing v4.0...</div>
        <div class="droid" id="droid-body">
            <div class="d-head" id="d-head"><div class="d-face"><div class="d-eye"></div><div class="d-eye"></div></div></div>
            <div class="d-body"></div><div class="d-hand left"></div><div class="d-hand right"></div>
        </div>
    </div>

    <div id="toast" class="fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-gray-900 dark:bg-white text-white dark:text-gray-900 px-6 py-4 rounded-xl shadow-2xl flex items-center gap-4 hidden z-50">
        <i class="fas fa-check-circle text-green-400 dark:text-green-600 text-xl"></i>
        <div><h4 class="font-bold text-sm" id="toast-title">Message Sent!</h4><p class="text-xs text-gray-400 dark:text-gray-600" id="toast-msg">Thank you. I will get back to you shortly.</p></div>
    </div>

    <script>
        // --- DATA OBJECTS (UNCHANGED) ---
        const projects = [
            { title: "Kubernetes Cluster on AWS EKS", desc: "Production-ready Kubernetes cluster on AWS EKS with auto-scaling, monitoring, and logging.", tags: ["EKS", "Terraform", "Prometheus"], icon: "fas fa-dharmachakra", color: "text-indigo-600 bg-indigo-50 dark:bg-indigo-900/30 dark:text-indigo-300" },
            { title: "Multi-Region AWS Infrastructure", desc: "Multi-region AWS infrastructure with disaster recovery and automated failover.", tags: ["AWS", "Terraform", "DR"], icon: "fab fa-aws", color: "text-orange-500 bg-orange-50 dark:bg-orange-900/30 dark:text-orange-300" },
            { title: "CI/CD Pipeline with Jenkins", desc: "Automated CI/CD pipeline using Jenkins, Docker, and Kubernetes.", tags: ["Jenkins", "Docker", "Security"], icon: "fas fa-sync-alt", color: "text-red-800 bg-red-50 dark:bg-red-900/30 dark:text-red-300" },
            { title: "Microservices on Azure AKS", desc: "Microservices architecture deployed on Azure Kubernetes Service.", tags: ["AKS", "Istio", "Azure"], icon: "fab fa-microsoft", color: "text-blue-600 bg-blue-50 dark:bg-blue-900/30 dark:text-blue-300" },
            { title: "GitOps with ArgoCD", desc: "GitOps implementation using ArgoCD for declarative Kubernetes deployments.", tags: ["GitOps", "ArgoCD", "K8s"], icon: "fas fa-rocket", color: "text-teal-600 bg-teal-50 dark:bg-teal-900/30 dark:text-teal-300" },
            { title: "Infrastructure Monitoring Stack", desc: "Complete monitoring solution with Prometheus, Grafana, and ELK stack.", tags: ["Monitoring", "Prometheus", "Grafana"], icon: "fas fa-chart-line", color: "text-pink-600 bg-pink-50 dark:bg-pink-900/30 dark:text-pink-300" },
            { title: "Serverless Application on AWS", desc: "Serverless application using AWS Lambda, API Gateway, and DynamoDB.", tags: ["Serverless", "Lambda", "AWS"], icon: "fas fa-bolt", color: "text-orange-500 bg-orange-50 dark:bg-orange-900/30 dark:text-orange-300" },
            { title: "Docker Swarm Cluster", desc: "Multi-node Docker Swarm cluster with service discovery.", tags: ["Docker", "Swarm"], icon: "fab fa-docker", color: "text-blue-500 bg-blue-50 dark:bg-blue-900/30 dark:text-blue-300" },
            { title: "DevSecOps Pipeline Integration", desc: "Automated security scanning (SAST/DAST) integrated directly into CI/CD workflows.", tags: ["Trivy", "SonarQube", "DevSecOps"], icon: "fas fa-user-shield", color: "text-red-600 bg-red-50 dark:bg-red-900/30 dark:text-red-300" },
            { title: "Chaos Engineering Platform", desc: "Resilience testing suite using Chaos Mesh to simulate pod failures and network latency.", tags: ["Chaos Mesh", "Resilience", "SRE"], icon: "fas fa-biohazard", color: "text-green-600 bg-green-50 dark:bg-green-900/30 dark:text-green-300" },
            { title: "Service Mesh Implementation", desc: "Istio setup for traffic splitting, mTLS, and observability across microservices.", tags: ["Istio", "Envoy", "Network"], icon: "fas fa-network-wired", color: "text-blue-600 bg-blue-50 dark:bg-blue-900/30 dark:text-blue-300" },
            { title: "Cloud Cost Optimization (FinOps)", desc: "Automated resource scheduling and spot instance management reducing bill by 35%.", tags: ["AWS Cost Explorer", "Python", "FinOps"], icon: "fas fa-piggy-bank", color: "text-yellow-600 bg-yellow-50 dark:bg-yellow-900/30 dark:text-yellow-300" }
        ];

        const blogs = [
            { category: "KUBERNETES", categoryColor: "text-primary dark:text-blue-400", title: "Getting Started with Kubernetes on AWS EKS", desc: "A comprehensive guide to deploying your first application on AWS EKS.", tags: ["AWS", "Kubernetes"] },
            { category: "CI/CD", categoryColor: "text-green-500 dark:text-green-400", title: "Building CI/CD Pipelines with GitHub Actions", desc: "Hands-on tutorial for creating end-to-end CI/CD pipelines.", tags: ["GitHub Actions", "CI/CD"] },
            { category: "INFRASTRUCTURE", categoryColor: "text-purple-500 dark:text-purple-400", title: "Terraform for Multi-Cloud Deployment", desc: "Master Terraform for multi-cloud infrastructure management.", tags: ["Terraform", "AWS", "Azure"] },
            { category: "CONTAINERS", categoryColor: "text-blue-500 dark:text-blue-400", title: "Docker Best Practices for Production", desc: "Optimize your Docker containers for production environments.", tags: ["Docker", "Security"] },
            { category: "MONITORING", categoryColor: "text-pink-600 dark:text-pink-400", title: "Monitoring with Prometheus and Grafana", desc: "Set up comprehensive monitoring for your infrastructure.", tags: ["Prometheus", "Grafana"] },
            { category: "SAS PLATFORM", categoryColor: "text-sas dark:text-sky-400", title: "Automating SAS 9.4 Platform Administration", desc: "Scripts and best practices for automating routine maintenance.", tags: ["SAS 9.4", "Automation"] },
            { category: "SECURITY", categoryColor: "text-red-500 dark:text-red-400", title: "Zero Trust Architecture in Kubernetes", desc: "Implementing mTLS and NetworkPolicies for hardened cluster security.", tags: ["Security", "K8s"] },
            { category: "SRE", categoryColor: "text-yellow-500 dark:text-yellow-400", title: "The Art of SLOs and Error Budgets", desc: "Defining meaningful reliability metrics for your stakeholders.", tags: ["SRE", "Observability"] },
            { category: "IAC", categoryColor: "text-purple-500 dark:text-purple-400", title: "Advanced Terraform Modules", desc: "Writing DRY and reusable infrastructure code for enterprise scale.", tags: ["Terraform", "Best Practices"] }
        ];

        const tools = [
            { category: "Cloud & Virtualization", items: [ { name: "AWS", icon: "fab fa-aws text-orange-500", desc: "EC2, EKS, S3, Lambda", url: "https://aws.amazon.com/" }, { name: "Azure", icon: "fab fa-microsoft text-blue-500", desc: "Azure DevOps, VMs", url: "https://azure.microsoft.com/" }, { name: "GCP", icon: "fab fa-google text-red-500", desc: "Compute & K8s Engine", url: "https://cloud.google.com/" } ]},
            { category: "Containers & Orchestration", items: [ { name: "Kubernetes", icon: "fas fa-dharmachakra text-indigo-600 dark:text-indigo-400", desc: "Orchestration", url: "https://kubernetes.io/" }, { name: "Docker", icon: "fab fa-docker text-blue-600 dark:text-blue-400", desc: "Containerization", url: "https://www.docker.com/" }, { name: "Helm", icon: "fas fa-box-open text-cyan-600 dark:text-cyan-400", desc: "K8s Package Manager", url: "https://helm.sh/" } ]},
            { category: "IaC & Config Mgt", items: [ { name: "Terraform", icon: "fas fa-code text-purple-600 dark:text-purple-400", desc: "Multi-cloud IaC", url: "https://www.terraform.io/" }, { name: "Ansible", icon: "fas fa-terminal text-green-600 dark:text-green-400", desc: "Automation", url: "https://www.ansible.com/" } ]},
            { category: "CI/CD & Automation", items: [ { name: "Jenkins", icon: "fas fa-sync-alt text-red-600 dark:text-red-400", desc: "Automation Server", url: "https://www.jenkins.io/" }, { name: "GitHub Actions", icon: "fab fa-github-alt text-gray-700 dark:text-gray-300", desc: "Workflow", url: "https://github.com/features/actions" }, { name: "ArgoCD", icon: "fas fa-rocket text-teal-600 dark:text-teal-400", desc: "GitOps Delivery", url: "https://argo-cd.readthedocs.io/" } ]},
            { category: "Observability", items: [ { name: "Prometheus", icon: "fas fa-chart-bar text-orange-500", desc: "Monitoring Toolkit", url: "https://prometheus.io/" }, { name: "Grafana", icon: "fas fa-chart-line text-pink-600 dark:text-pink-400", desc: "Visualization", url: "https://grafana.com/" }, { name: "ELK Stack", icon: "fas fa-search text-green-600 dark:text-green-400", desc: "Log Aggregation", url: "https://www.elastic.co/elastic-stack" } ]},
            { category: "SAS Platform", items: [ { name: "SAS 9.4", icon: "fas fa-server text-sas dark:text-sky-400", desc: "Platform Admin", url: "https://www.sas.com/" }, { name: "SAS Viya", icon: "fas fa-cloud text-sas dark:text-sky-400", desc: "Cloud Analytics", url: "https://www.sas.com/en_us/software/viya.html" } ]}
        ];

        // --- GLOBAL FUNCTIONS (UNCHANGED) ---
        function toggleTheme() {
            const html = document.documentElement;
            if (html.classList.contains('dark')) { 
                html.classList.remove('dark'); 
                localStorage.setItem('theme', 'light'); 
            } else { 
                html.classList.add('dark'); 
                localStorage.setItem('theme', 'dark'); 
            }
        }

        function switchTab(tabId) {
            stopAllGames();
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            const target = document.getElementById(tabId);
            if(target) { target.classList.remove('hidden'); target.classList.add('fade-in'); }
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            const btn = document.getElementById(`btn-${tabId}`);
            if(btn) btn.classList.add('active');
            if(window.speechSynthesis && window.speechSynthesis.speaking) window.speechSynthesis.cancel();
            document.getElementById('bot-menu').classList.remove('active');
            const mobMenu = document.getElementById('mobile-menu');
            if(mobMenu && !mobMenu.classList.contains('hidden')) toggleMobileMenu();
            const mainContent = document.getElementById('main-content');
            if(mainContent) mainContent.scrollTo({ top: 0, behavior: 'smooth' });
            setTimeout(setupObserver, 100);
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            if (menu.classList.contains('hidden')) {
                menu.classList.remove('hidden', 'pointer-events-none');
                menu.classList.add('flex');
                setTimeout(() => menu.classList.remove('opacity-0'), 10);
            } else {
                menu.classList.add('opacity-0', 'pointer-events-none');
                setTimeout(() => { menu.classList.add('hidden'); menu.classList.remove('flex'); }, 300);
            }
        }
        function mobileNav(tab) { switchTab(tab); }

        function handleTilt(e, card) {
            const rect = card.getBoundingClientRect();
            const x = e.clientX - rect.left; const y = e.clientY - rect.top;
            const centerX = rect.width / 2; const centerY = rect.height / 2;
            const rotateX = ((y - centerY) / centerY) * -5; const rotateY = ((x - centerX) / centerX) * 5;
            card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.02)`;
        }
        function resetTilt(card) { card.style.transform = `perspective(1000px) rotateX(0deg) rotateY(0deg) scale(1)`; }

        function renderProjects() {
            const container = document.getElementById('projects-container');
            if (!container) return;
            container.innerHTML = projects.map(p => `
                <div onmousemove="handleTilt(event, this)" onmouseleave="resetTilt(this)" class="glass-panel p-8 rounded-[2rem] spotlight-card group cursor-pointer border border-white/50 dark:border-white/10 reveal transition-transform duration-100 ease-out" style="transform-style: preserve-3d;">
                    <div class="flex justify-between items-start mb-6 relative z-10">
                        <div class="w-14 h-14 rounded-2xl flex items-center justify-center text-2xl ${p.color}"><i class="${p.icon}"></i></div>
                    </div>
                    <h3 class="text-2xl font-bold mb-3 text-gray-900 dark:text-white relative z-10">${p.title}</h3>
                    <p class="text-gray-500 dark:text-gray-400 mb-6 h-16 relative z-10 overflow-hidden text-sm leading-relaxed">${p.desc}</p>
                    <div class="flex flex-wrap gap-2 relative z-10">
                        ${p.tags.map(t => `<span class="px-3 py-1 bg-white/60 dark:bg-gray-800/60 border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300 rounded-full text-xs font-bold shadow-sm">${t}</span>`).join('')}
                    </div>
                </div>
            `).join('');
        }

        function renderTools() {
            const container = document.getElementById('tools-grid');
            if (!container) return;
            container.innerHTML = tools.map((cat, index) => `
                <div class="reveal" style="transition-delay: ${index * 100}ms">
                    <h3 class="text-lg font-bold text-gray-400 dark:text-gray-500 uppercase tracking-widest mb-6 border-b border-gray-200 dark:border-gray-800 pb-2">${cat.category}</h3>
                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                        ${cat.items.map(item => `
                            <a href="${item.url}" target="_blank" rel="noopener noreferrer" class="tool-btn-animated glass-panel p-4 rounded-xl flex items-center gap-3 border border-white/60 dark:border-white/10 group relative cursor-pointer">
                                <div class="text-xl w-8 text-center"><i class="${item.icon}"></i></div>
                                <div><div class="font-bold text-gray-800 dark:text-gray-200 text-sm">${item.name}</div><div class="text-xs text-gray-500 dark:text-gray-400 truncate w-32" title="${item.desc}">${item.desc}</div></div>
                                <i class="fas fa-external-link-alt absolute top-2 right-2 text-[10px] text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"></i>
                            </a>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function renderBlogs() {
            const container = document.getElementById('blog-container');
            if (!container) return;
            container.innerHTML = blogs.map(b => `
                <article class="glass-panel p-8 rounded-3xl hover:-translate-y-2 transition-transform duration-300 border border-white/50 dark:border-white/10 group cursor-pointer tool-card reveal">
                    <div class="text-xs font-bold ${b.categoryColor} mb-3 flex items-center gap-2"><i class="fas fa-file-alt"></i> ${b.category}</div>
                    <h3 class="text-2xl font-bold mb-3 text-gray-900 dark:text-white group-hover:text-primary transition">${b.title}</h3>
                    <p class="text-gray-500 dark:text-gray-400 mb-4 text-sm leading-relaxed">${b.desc}</p>
                    <div class="flex flex-wrap gap-2 mb-4">
                        ${b.tags.map(t => `<span class="px-2 py-1 bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 rounded text-[10px] font-bold uppercase tracking-wide">${t}</span>`).join('')}
                    </div>
                    <div class="mt-4 text-sm font-semibold text-gray-400 dark:text-gray-500 flex items-center gap-2"><i class="fas fa-calendar-alt"></i> Coming Soon</div>
                </article>
            `).join('');
        }

        const typingText = "I transform complex business requirements into resilient, automated, and scalable cloud infrastructure. My focus is on driving efficiency and reliability across the SDLC with cutting-edge DevOps and SAS technologies.";
        let charIndex = 0;
        function typeWriter() {
            const el = document.getElementById('typing-text');
            if (!el) return;
            if (charIndex < typingText.length) { el.innerHTML += typingText.charAt(charIndex); charIndex++; setTimeout(typeWriter, 30); } 
            else { el.classList.add('typing-cursor'); }
        }

        const toolsTypingText = "The right tool for the right job: Continuous Integration, Infrastructure as Code, and Observability.";
        let toolsCharIndex = 0;
        function toolsTypeWriter() {
            const el = document.getElementById('tools-typing-text');
            if(!el) return;
            if(toolsCharIndex < toolsTypingText.length) { el.innerHTML += toolsTypingText.charAt(toolsCharIndex); toolsCharIndex++; setTimeout(toolsTypeWriter, 30); }
        }

        const devopsQuotes = [
            "You build it, you run it.", "Automation is not just a trend; it's the foundation.", "If you did not automate testing, you did not do DevOps.",
            "Shift left on security, shift right on observability.", "Infrastructure as Code: because clicking buttons is not a strategy.", "In DevOps, failure is not the opposite of success; it's part of success.", "The best way to predict the future is to automate it.",
            "DevOps is a culture, not a job title.", "Monitoring is the eyes and alerting is the ears of your system.", "Containers are to DevOps what electricity was to the industrial revolution.",
            "The cloud is not a place, it's a way of thinking.", "Microservices: because monoliths are so 2000s.", "In DevOps, we don't do 'it works on my machine.'", "Continuous Integration is like brushing your teeth; you do it every day to avoid cavities.",
            "The only constant in DevOps is change, and the only way to manage it is through automation.", "DevOps is not about tools, it's about collaboration and culture.", "The road to DevOps is paved with good intentions and broken builds.",
            "If you're not automating, you're just orchestrating manual work.", "In DevOps, we don't wait for problems to happen; we create them in staging and fix them before they reach production.", "The best DevOps engineers are part coder, part psychologist, and part firefighter.",
            "DevOps is like a good joke: if you have to explain it, it's not working.", "The true measure of DevOps success is not how fast you can deploy, but how quickly you can recover from failure.", "In DevOps, we don't just break things on purpose; we break them to learn how to fix them faster.", "The DevOps mindset is not about avoiding failure, but about embracing it as a learning opportunity.",
            "The best way to predict the future of your system is to create it through automation and continuous improvement.", "DevOps is not a destination, it's a journey of continuous learning and adaptation.", "In DevOps, we don't just deploy code; we deploy confidence.", "The only way to win in DevOps is to continuously improve and never stop learning.", "DevOps is not about being perfect; it's about being better than yesterday.", "The best DevOps teams are those that can balance speed with stability, and innovation with reliability.",
            
        ];
        function setRandomQuote() {
            const quoteEl = document.getElementById('quote-container');
            if (quoteEl) {
                const randomQuote = devopsQuotes[Math.floor(Math.random() * devopsQuotes.length)];
                quoteEl.innerHTML = `<div class="inline-flex items-center gap-2 px-6 py-3 rounded-full bg-primary/10 dark:bg-blue-900/30 border-2 border-primary/30 dark:border-blue-700 text-sm font-semibold text-primary dark:text-blue-300 shadow-sm relative overflow-hidden animate-pulse-glow"><i class="fas fa-quote-left"></i> ${randomQuote}</div>`;
            }
        }
        function getDevOpsJoke() {
            const jokes = ["Why do DevOps engineers prefer dark mode? Because light attracts bugs.", "A SQL query walks into a bar, walks up to two tables and asks: Can I join you?", "How many DevOps engineers does it take to change a lightbulb? None, it's a hardware problem.", "Why did the DevOps engineer go broke? Because he used up all his cache.", "What do you call a DevOps engineer who can sing? A CI/CD pipeline.", "Why did the DevOps engineer get kicked out of school? Because he kept breaking the build.", "How do DevOps engineers stay calm during a crisis? They just Docker it.", "Why did the DevOps engineer cross the road? To automate the other side."];
            return jokes[Math.floor(Math.random() * jokes.length)];
        }

        // New function to tell a joke when button clicked
        function tellJoke() {
            const joke = getDevOpsJoke();
            botSpeak(joke);
            const droid = document.getElementById('droid-body');
            droid.classList.add('dancing'); 
            setTimeout(() => droid.classList.remove('dancing'), 2000);
        }
        
        // Helper function to close menu
        function closeMenu() {
            document.getElementById('bot-menu').classList.remove('active');
        }

        function setupObserver() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => { 
                    if (entry.isIntersecting) entry.target.classList.add('active'); 
                });
            }, { root: document.getElementById('main-content'), threshold: 0.1 });
            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
        }

        function togglePlaygroundMode(mode) {
            stopAllGames();
            const toolDiv = document.getElementById('mode-tools');
            const gameDiv = document.getElementById('mode-games');
            const btnT = document.getElementById('btn-mode-tools');
            const btnG = document.getElementById('btn-mode-games');
            const bg = document.getElementById('mode-bg');
            const title = document.getElementById('pg-title');
            const desc = document.getElementById('pg-desc');

            document.querySelectorAll('.tool-view').forEach(el => el.classList.add('hidden'));

            if(mode === 'games') {
                toolDiv.classList.add('hidden'); gameDiv.classList.remove('hidden'); bg.style.left = '50%';
                btnT.classList.add('text-gray-500'); btnG.classList.remove('text-gray-500');
                title.innerText = "DevOps Arcade"; desc.innerText = "Take a break. Deploy some fun.";
            } else {
                gameDiv.classList.add('hidden'); toolDiv.classList.remove('hidden'); bg.style.left = '4px';
                btnG.classList.add('text-gray-500'); btnT.classList.remove('text-gray-500');
                title.innerText = "DevOps Tool Chest"; desc.innerText = "Professional Grade Utilities.";
                const activeBtn = document.querySelector('.tool-select-btn.active');
                if(activeBtn) activeBtn.click(); else switchTool('tool-editor');
            }
        }

        function switchToolBtn(btn, toolId) {
            document.querySelectorAll('.tool-select-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            switchTool(toolId);
        }

        function stopAllGames() {
            if(bugTimer) clearInterval(bugTimer);
            if(dinoLoop) cancelAnimationFrame(dinoLoop); isGameOver = true;
            if(snakeLoop) clearInterval(snakeLoop);
        }

        function switchGame(gameId) {
            stopAllGames();
            document.querySelectorAll('.tool-view').forEach(el => el.classList.add('hidden'));
            document.getElementById(gameId).classList.remove('hidden');
            if(gameId === 'game-bug') startBugGame();
            if(gameId === 'game-dino') startDinoGame();
            if(gameId === 'game-snake') initSnake();
            if(gameId === 'game-tictactoe') resetTTT();
        }

        function moveVimBtn() {
            const btn = document.getElementById('vim-btn');
            const x = Math.random() * 80 + 10; const y = Math.random() * 80 + 10;
            btn.style.left = x + '%'; btn.style.top = y + '%';
        }

        let bugScore = 0; let bugTimer = null;
        function startBugGame() {
            bugScore = 0; document.getElementById('bugScore').innerText = 0;
            let time = 30; document.getElementById('bugTime').innerText = time;
            if(bugTimer) clearInterval(bugTimer);
            bugTimer = setInterval(() => {
                time--; document.getElementById('bugTime').innerText = time;
                spawnBug();
                if(time <= 0) { clearInterval(bugTimer); alert("Game Over! Bugs Smashed: " + bugScore); }
            }, 800);
        }
        function spawnBug() {
            const slots = document.querySelectorAll('.bug-slot');
            slots.forEach(s => s.innerHTML = '');
            const rand = Math.floor(Math.random() * 9);
            slots[rand].innerHTML = '<div class="w-full h-full flex items-center justify-center text-4xl animate-bounce"></div>';
        }
        function hitBug(idx) {
            const slot = document.querySelectorAll('.bug-slot')[idx];
            if(slot.innerHTML !== '') {
                bugScore++; document.getElementById('bugScore').innerText = bugScore;
                slot.innerHTML = '<div class="w-full h-full flex items-center justify-center text-4xl text-red-600 font-bold"></div>';
            }
        }

        let dinoCtx, dinoLoop; let dinoY = 150, dinoVel = 0, obstacles = [], frame = 0, score=0; let isGameOver = false;
        function startDinoGame() {
            const canvas = document.getElementById('dinoCanvas');
            dinoCtx = canvas.getContext('2d');
            obstacles = []; frame = 0; score=0; dinoY = 150; dinoVel = 0; isGameOver = false;
            if(dinoLoop) cancelAnimationFrame(dinoLoop);
            updateDino();
            document.onkeydown = (e) => { if(e.code === 'Space') { e.preventDefault(); if(isGameOver) { startDinoGame(); return; } if(dinoY >= 150) dinoVel = -12; } };
            canvas.onclick = () => { if(isGameOver) { startDinoGame(); return; } if(dinoY >= 150) dinoVel = -12; };
        }
        function updateDino() {
            dinoCtx.clearRect(0,0,600,200);
            if(isGameOver) {
                dinoCtx.fillStyle = '#ef4444'; dinoCtx.font = "bold 30px monospace"; dinoCtx.textAlign = "center";
                dinoCtx.fillText("DEPLOYMENT FAILED!", 300, 90);
                dinoCtx.fillStyle = '#6b7280'; dinoCtx.font = "16px sans-serif";
                dinoCtx.fillText("Firewall blocked connection.", 300, 120); dinoCtx.fillText("Press Space / Click to Retry", 300, 145); return; 
            }
            dinoVel += 0.6; dinoY += dinoVel; if(dinoY > 150) { dinoY = 150; dinoVel = 0; }
            dinoCtx.fillStyle = '#22c55e'; dinoCtx.fillRect(50, dinoY, 30, 30);
            if(frame % 100 === 0) obstacles.push({x: 600, w: 20, h: 40});
            obstacles.forEach(o => {
                o.x -= 4; dinoCtx.fillStyle = '#ef4444'; dinoCtx.fillRect(o.x, 190 - o.h, o.w, o.h);
                if (50 < o.x + o.w && 50 + 30 > o.x && dinoY < 190 && dinoY + 30 > 190 - o.h) isGameOver = true;
            });
            score++; document.getElementById('dinoScore').innerText = Math.floor(score/10); frame++; dinoLoop = requestAnimationFrame(updateDino);
        }

        let tttBoard = ['', '', '', '', '', '', '', '', '']; let tttActive = true;
        function resetTTT() {
            tttBoard = ['', '', '', '', '', '', '', '', '']; tttActive = true;
            document.querySelectorAll('.ttt-cell').forEach(c => { c.innerText = ''; c.classList.remove('text-red-500', 'text-green-500'); });
            document.getElementById('ttt-status').innerText = "Your Turn (CI)";
        }
        function tttMove(idx) {
            if(!tttActive || tttBoard[idx] !== '') return;
            tttBoard[idx] = 'X'; drawTTT(); checkTTT(); if(tttActive) setTimeout(tttBotMove, 400);
        }
        function tttBotMove() {
            let available = tttBoard.map((v, i) => v === '' ? i : null).filter(v => v !== null);
            if(available.length === 0) return;
            let move = available[Math.floor(Math.random() * available.length)];
            tttBoard[move] = 'O'; drawTTT(); checkTTT();
        }
        function drawTTT() {
            document.querySelectorAll('.ttt-cell').forEach((c, i) => {
                c.innerText = tttBoard[i];
                if(tttBoard[i] === 'X') c.classList.add('text-green-500'); if(tttBoard[i] === 'O') c.classList.add('text-red-500');
            });
        }
        function checkTTT() {
            const wins = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
            let won = false;
            wins.forEach(w => {
                if(tttBoard[w[0]] && tttBoard[w[0]] === tttBoard[w[1]] && tttBoard[w[0]] === tttBoard[w[2]]) {
                    tttActive = false; won = true;
                    document.getElementById('ttt-status').innerText = tttBoard[w[0]] === 'X' ? "Build Succeeded! (You Win)" : "Build Failed! (Bot Wins)";
                }
            });
            if(!won && !tttBoard.includes('')) { tttActive = false; document.getElementById('ttt-status').innerText = "Merge Conflict (Draw)"; }
        }

        let snakeCtx, snakeLoop; let snake = [{x: 10, y: 10}]; let food = {x: 15, y: 15}; let dx = 0, dy = 0; let snakeScore = 0;
        function initSnake() {
            const cvs = document.getElementById('snakeCanvas'); snakeCtx = cvs.getContext('2d');
            snake = [{x: 10, y: 10}]; snakeScore = 0; document.getElementById('snakeScore').innerText = 0;
            dx = 1; dy = 0; if(snakeLoop) clearInterval(snakeLoop); snakeLoop = setInterval(runSnake, 100);
            document.onkeydown = (e) => {
                if(e.key === 'ArrowUp' && dy !== 1) { dx=0; dy=-1; }
                if(e.key === 'ArrowDown' && dy !== -1) { dx=0; dy=1; }
                if(e.key === 'ArrowLeft' && dx !== 1) { dx=-1; dy=0; }
                if(e.key === 'ArrowRight' && dx !== -1) { dx=1; dy=0; }
            };
        }
        function runSnake() {
            const head = {x: snake[0].x + dx, y: snake[0].y + dy};
            if(head.x < 0) head.x = 19; if(head.x > 19) head.x = 0; if(head.y < 0) head.y = 19; if(head.y > 19) head.y = 0;
            if(snake.some(s => s.x === head.x && s.y === head.y)) { clearInterval(snakeLoop); alert("Memory Leak! Script Crashed."); return; }
            snake.unshift(head);
            if(head.x === food.x && head.y === food.y) { snakeScore += 64; document.getElementById('snakeScore').innerText = snakeScore; food = {x: Math.floor(Math.random()*20), y: Math.floor(Math.random()*20)}; } 
            else { snake.pop(); }
            drawSnake();
        }
        function drawSnake() {
            snakeCtx.fillStyle = '#1f2937'; snakeCtx.fillRect(0,0,400,400);
            snakeCtx.fillStyle = '#eab308'; snake.forEach(s => snakeCtx.fillRect(s.x*20, s.y*20, 18, 18));
            snakeCtx.fillStyle = '#ef4444'; snakeCtx.fillRect(food.x*20, food.y*20, 18, 18);
        }

        function switchTool(toolId) {
            document.querySelectorAll('.tool-view').forEach(el => el.classList.add('hidden'));
            document.getElementById(toolId).classList.remove('hidden');
            if(toolId === 'tool-ip') fetchMyIp(); if(toolId === 'tool-pass') generatePass();
        }

        // --- UTILITY FUNCTIONS (CSV, YAML, HASH, ETC.) ---
        function jsonToCsv() {
            const jsonStr = document.getElementById('csvJsonInput').value;
            try {
                const arr = JSON.parse(jsonStr);
                if (!Array.isArray(arr) || arr.length === 0) throw new Error("Input must be a JSON array of objects.");
                const keys = Object.keys(arr[0]);
                const csv = [keys.join(','), ...arr.map(row => keys.map(k => { let val = row[k]===null||row[k]===undefined?'':row[k]; if(typeof val==='object') val=JSON.stringify(val).replace(/"/g, '""'); return `"${val.toString().replace(/"/g, '""')}"`; }).join(','))].join('\n');
                document.getElementById('csvOutput').value = csv;
            } catch (e) { alert("Invalid JSON: " + e.message); }
        }
        function csvToJson() {
            const csvStr = document.getElementById('csvOutput').value; const lines = csvStr.split('\n').filter(l => l.trim());
            if (lines.length < 2) return;
            const headers = lines[0].split(',').map(h => h.trim());
            const result = lines.slice(1).map(line => {
                const regex = /(".*?"|[^",\s]+)(?=\s*,|\s*$)/g; const data = []; let match;
                while ((match = regex.exec(line)) !== null) data.push(match[0].replace(/^"|"$/g, '').replace(/""/g, '"'));
                const obj = {}; headers.forEach((h, i) => obj[h] = data[i] || ''); return obj;
            });
            document.getElementById('csvJsonInput').value = JSON.stringify(result, null, 2);
        }
        function downloadFile(elemId, fname, type) {
            const content = document.getElementById(elemId).value; if(!content) return;
            const blob = new Blob([content], { type: type }); const url = URL.createObjectURL(blob);
            const a = document.createElement('a'); a.href = url; a.download = fname; a.click(); URL.revokeObjectURL(url);
        }

        function validateYaml() {
            const input = document.getElementById('yamlInput').value; const output = document.getElementById('yamlOutput'); const status = document.getElementById('yamlStatus');
            if(!input.trim()) { output.innerText = ""; status.innerText = "Ready"; return; }
            try {
                const doc = jsyaml.loadAll(input); output.innerText = JSON.stringify(doc, null, 2);
                status.innerText = "Valid YAML"; status.className = "text-green-500 font-bold"; output.className = "flex-grow p-4 font-mono text-xs overflow-auto whitespace-pre-wrap text-green-600 dark:text-green-400";
            } catch(e) {
                try { JSON.parse(input); output.innerText = input; status.innerText = "Valid JSON"; status.className = "text-blue-500 font-bold"; output.className = "flex-grow p-4 font-mono text-xs overflow-auto whitespace-pre-wrap text-blue-600 dark:text-blue-400"; }
                catch(j) { output.innerText = e.message; status.innerText = "Syntax Error"; status.className = "text-red-500 font-bold"; output.className = "flex-grow p-4 font-mono text-xs overflow-auto whitespace-pre-wrap text-red-500"; }
            }
        }
        function convertYamlToJson() { const v = document.getElementById('yamlInput').value; try { document.getElementById('yamlOutput').innerText = JSON.stringify(jsyaml.load(v), null, 2); } catch(e){} }
        function convertJsonToYaml() { const v = document.getElementById('yamlInput').value; try { document.getElementById('yamlOutput').innerText = jsyaml.dump(JSON.parse(v)); } catch(e){} }
        function minifyJson() { try { const v = document.getElementById('yamlInput').value; document.getElementById('yamlInput').value = JSON.stringify(JSON.parse(v)); validateYaml(); } catch(e){} }
        function prettifyJson() { try { const v = document.getElementById('yamlInput').value; document.getElementById('yamlInput').value = JSON.stringify(JSON.parse(v), null, 2); validateYaml(); } catch(e){} }
        
        function loadYamlTemplate(t) { 
            const tmpl = { 
                'k8s_pod': "apiVersion: v1\nkind: Pod\nmetadata:\n  name: my-pod\nspec:\n  containers:\n  - name: my-app\n    image: nginx:latest\n    ports:\n    - containerPort: 80", 
                'k8s_svc': "apiVersion: v1\nkind: Service\nmetadata:\n  name: my-svc\nspec:\n  selector:\n    app: my-app\n  ports:\n    - protocol: TCP\n      port: 80\n      targetPort: 80", 
                'github_action': "name: CI\non: [push]\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n    - uses: actions/checkout@v2\n    - name: Run a one-line script\n      run: echo Hello, world!",
                'jenkins_pipeline': "pipeline {\n    agent any\n    stages {\n        stage('Build') {\n            steps {\n                echo 'Building...'\n            }\n        }\n        stage('Test') {\n            steps {\n                echo 'Testing...'\n            }\n        }\n        stage('Deploy') {\n            steps {\n                echo 'Deploying...'\n            }\n        }\n    }\n}",
                'ansible_playbook': "---\n- name: Install Apache\n  hosts: webservers\n  become: yes\n  tasks:\n    - name: Install httpd\n      yum:\n        name: httpd\n        state: present\n    - name: Start service\n      service:\n        name: httpd\n        state: started",
                'dockerfile': "# Use an official Python runtime as a parent image\nFROM python:3.9-slim\n\n# Set the working directory\nWORKDIR /app\n\n# Copy the current directory contents into the container at /app\nCOPY . /app\n\n# Install any needed packages specified in requirements.txt\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Make port 80 available to the world outside this container\nEXPOSE 80\n\n# Run app.py when the container launches\nCMD [\"python\", \"app.py\"]",
                'docker_compose': "version: '3'\nservices:\n  web:\n    build: .\n    ports:\n      - \"5000:5000\"\n  redis:\n    image: \"redis:alpine\""
            };
            if(tmpl[t]) { document.getElementById('yamlInput').value = tmpl[t]; validateYaml(); }
        }
        
        function clearYaml() { document.getElementById('yamlInput').value=''; validateYaml(); }
        function copyToClipboard(id) { navigator.clipboard.writeText(document.getElementById(id).value || document.getElementById(id).innerText); alert("Copied!"); }

        function populateCronSelects() {
            const addOpts = (id, start, end, label) => {
                const sel = document.getElementById(id); sel.innerHTML = `<option value="*">*</option>`;
                if(label) sel.innerHTML += `<option value="${label}">${label}</option>`;
                for(let i=start; i<=end; i++) sel.innerHTML += `<option value="${i}">${i}</option>`;
            };
            addOpts('cronMin', 0, 59, '*/5'); addOpts('cronHour', 0, 23, '*/2'); addOpts('cronDay', 1, 31); addOpts('cronMonth', 1, 12); addOpts('cronWeek', 0, 6);
        }
        function updateCron() {
            const m = document.getElementById('cronMin').value; const h = document.getElementById('cronHour').value;
            const d = document.getElementById('cronDay').value; const mo = document.getElementById('cronMonth').value; const w = document.getElementById('cronWeek').value;
            document.getElementById('cronOutput').innerText = `${m} ${h} ${d} ${mo} ${w}`;
            let desc = "Runs "; desc += (m === "*") ? "every minute" : `at minute ${m}`; desc += (h === "*") ? "" : ` past hour ${h}`; document.getElementById('cronDesc').innerText = desc;
            const list = document.getElementById('cronNextRuns'); list.innerHTML = "";
            let now = new Date();
            for(let i=0; i<5; i++) {
                if(m !== '*' && h !== '*') { now.setHours(h); now.setMinutes(m); if(now < new Date()) now.setDate(now.getDate()+1); else now.setDate(now.getDate() + (i>0?1:0)); } 
                else { now.setMinutes(now.getMinutes() + (m === '*' ? 1 : 5)); }
                list.innerHTML += `<li class="flex items-center gap-2 text-xs"><div class="w-1.5 h-1.5 bg-green-500 rounded-full"></div> ${now.toLocaleString()}</li>`;
            }
        }
        function applyCronPreset(val) {
            if(!val) return;
            const parts = val.split(' ');
            document.getElementById('cronMin').value = parts[0]; document.getElementById('cronHour').value = parts[1];
            document.getElementById('cronDay').value = parts[2]; document.getElementById('cronMonth').value = parts[3]; document.getElementById('cronWeek').value = parts[4];
            updateCron();
        }

        function checkPort() {
            const p = parseInt(document.getElementById('portInput').value);
            const ports = { 21:'FTP', 22:'SSH', 23:'Telnet', 25:'SMTP', 53:'DNS', 80:'HTTP', 443:'HTTPS', 1433:'SQL Server', 1521:'Oracle', 3306:'MySQL/MariaDB', 3389:'RDP', 5432:'PostgreSQL', 6379:'Redis', 8080:'HTTP-Alt', 8443:'HTTPS-Alt', 9090:'Prometheus', 9100:'Node Exporter', 27017:'MongoDB', 9200:'Elasticsearch', 5601:'Kibana', 3000:'React/Node/Grafana', 5000:'Flask/Docker Registry', 6443:'K8s API', 2379:'etcd', 10250:'Kubelet' };
            const res = document.getElementById('portResult');
            if(ports[p]) { res.innerHTML = `<span class="text-green-600">Standard Service:</span> ${ports[p]}`; } else { res.innerHTML = `<span class="text-gray-500">Unknown/Custom/Ephemeral Port</span>`; }
        }

        function calculateCidr() {
            const val = document.getElementById('cidrInput').value; if(!val.includes('/')) return;
            try {
                const [ip, mask] = val.split('/'); const m = parseInt(mask); if(m > 32 || m < 0) throw new Error();
                const hosts = Math.pow(2, 32 - m) - 2; const binMask = "1".repeat(m) + "0".repeat(32-m); const prettyBin = binMask.match(/.{1,8}/g).join('.');
                document.getElementById('cidrHosts').innerText = hosts > 0 ? hosts.toLocaleString() : 0;
                document.getElementById('cidrNetmask').innerText = '/' + m;
                const parts = ip.split('.').map(Number);
                const first = `${parts[0]}.${parts[1]}.${parts[2]}.${m>=24?1:0}`; const last = `${parts[0]}.${parts[1]}.${parts[2]}.${m>=24?254:255}`; 
                document.getElementById('cidrRange').innerText = `${first} - ${last}`; document.getElementById('cidrFirst').innerText = first; document.getElementById('cidrLast').innerText = last; document.getElementById('cidrBinary').innerText = prettyBin;
            } catch(e) { document.getElementById('cidrHosts').innerText = "Invalid CIDR"; }
        }

        function runBase64(mode) {
            const i = document.getElementById('b64Input').value;
            try { document.getElementById('b64Output').value = mode === 'enc' ? btoa(i) : atob(i); } catch(e) { document.getElementById('b64Output').value = "Error: Invalid Input"; }
        }

        function decodeJwt() {
            const token = document.getElementById('jwtInput').value; if(!token.includes('.')) return;
            const parts = token.split('.');
            try {
                const head = JSON.parse(atob(parts[0])); const pay = JSON.parse(atob(parts[1]));
                document.getElementById('jwtHeader').innerText = JSON.stringify(head, null, 2); document.getElementById('jwtPayload').innerText = JSON.stringify(pay, null, 2);
            } catch(e) {
                document.getElementById('jwtHeader').innerText = "Error decoding";
            }
        }

        let urlMode = 'enc';
        function setUrlMode(m) { urlMode = m; runUrlTool(); }
        function runUrlTool() {
            const v = document.getElementById('urlInput').value;
            try {
                document.getElementById('urlOutput').value = urlMode === 'enc' ? encodeURIComponent(v) : decodeURIComponent(v);
            } catch(e) {
                document.getElementById('urlOutput').value = "Error: Malformed URI";
            }
        }

        function fetchDns() {
            const domain = document.getElementById('dnsDomain').value; const type = document.getElementById('dnsType').value; const resDiv = document.getElementById('dnsResult');
            resDiv.innerText = "Querying Google DNS...";
            fetch(`https://dns.google/resolve?name=${domain}&type=${type}`).then(r => r.json()).then(d => {
                if(d.Answer) { resDiv.innerText = d.Answer.map(a => `[${a.type}] ${a.name} \n  -> ${a.data}`).join('\n\n'); } else resDiv.innerText = "No records found or invalid domain.";
            }).catch(e => resDiv.innerText = "Error fetching DNS.");
        }

        function fetchMyIp() {
            document.getElementById('myIpDisplay').innerText = "Loading..."; document.getElementById('sysPing').innerText = "Pinging...";
            const start = Date.now();
            fetch('https://api.ipify.org?format=json').then(r => r.json()).then(d => {
                const ping = Date.now() - start; document.getElementById('myIpDisplay').innerText = d.ip; document.getElementById('ipOrg').innerText = "Public Internet Address"; document.getElementById('sysPing').innerText = ping + " ms";
            }).catch(() => document.getElementById('myIpDisplay').innerText = "Error");
            document.getElementById('sysUA').innerText = navigator.platform + ", " + navigator.language; document.getElementById('sysRes').innerText = window.screen.width + " x " + window.screen.height; document.getElementById('sysTime').innerText = Intl.DateTimeFormat().resolvedOptions().timeZone;
        }

        function decodeCert() {
            const v = document.getElementById('sslInput').value; const out = document.getElementById('sslOutput');
            if(v.includes('BEGIN CERTIFICATE')) {
                const clean = v.replace(/-----BEGIN CERTIFICATE-----|-----END CERTIFICATE-----|\s/g, '');
                out.innerHTML = `<div class="font-bold text-green-600 mb-2">Certificate Detected</div><div class="bg-white dark:bg-gray-800 p-2 rounded border text-xs break-all">${clean.substring(0, 60)}...</div><div class="mt-2 text-xs text-gray-500">Base64 Length: ${v.length} bytes</div><div class="mt-4 text-xs font-bold text-gray-400">NOTE: Full client-side parsing requires libraries not present here. This validates format only.</div>`;
            }
        }

        function runRegex() {
            const pat = document.getElementById('regexPattern').value; const flags = document.getElementById('regexFlags').value; const str = document.getElementById('regexString').value; const out = document.getElementById('regexOutput');
            try { const re = new RegExp(pat, flags); const matches = str.match(re); out.innerText = matches ? `Found ${matches.length} matches:\n` + JSON.stringify(matches, null, 2) : "No matches found."; } catch(e) { out.innerText = "Invalid Regex"; }
        }

        function calcChmod() {
            let o=0,g=0,p=0; document.querySelectorAll('.chmod-check:checked').forEach(c => { let v = parseInt(c.dataset.val); if(v>=100) o+=(v/100); else if(v>=10) g+=(v/10); else p+=v; });
            document.getElementById('chmodResult').innerText = `${o}${g}${p}`; const map = {0:'---',1:'--x',2:'-w-',3:'-wx',4:'r--',5:'r-x',6:'rw-',7:'rwx'}; document.getElementById('chmodSymbolic').innerText = `-${map[o]}${map[g]}${map[p]}`;
        }

        function generatePass() {
            const len = document.getElementById('passLen').value; const useSym = document.getElementById('passSymbols').checked; const useNum = document.getElementById('passNumbers').checked;
            let chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"; if(useNum) chars += "0123456789"; if(useSym) chars += "!@#$%^&*()_+";
            let pass = ""; for(let i=0; i<len; i++) pass += chars.charAt(Math.floor(Math.random() * chars.length)); document.getElementById('passOutput').value = pass;
        }
        function copyPass() { navigator.clipboard.writeText(document.getElementById('passOutput').value); alert("Copied!"); }

        function runDiff() {
            const a = document.getElementById('diffA').value;
            const b = document.getElementById('diffB').value;
            const out = document.getElementById('diffOutput');
            out.innerHTML = '';
            if (typeof Diff === 'undefined') { out.innerHTML = "Error: jsdiff library not loaded. Check internet connection."; return; }
            const diff = Diff.diffLines(a, b);
            diff.forEach((part) => {
                const color = part.added ? 'text-green-500 bg-green-900/20' : part.removed ? 'text-red-500 bg-red-900/20' : 'text-gray-500';
                const prefix = part.added ? '+ ' : part.removed ? '- ' : '  ';
                part.value.split('\n').forEach(line => {
                    if (line === '' && part.value.endsWith('\n')) return;
                    const div = document.createElement('div');
                    div.className = `${color} px-1 whitespace-pre-wrap font-mono break-all`;
                    div.innerText = prefix + line;
                    out.appendChild(div);
                });
            });
        }

        async function generateHash() {
            const msg = document.getElementById('hashInput').value; if(!msg) return;
            const encode = new TextEncoder().encode(msg); const hash256 = await crypto.subtle.digest('SHA-256', encode); const hash512 = await crypto.subtle.digest('SHA-512', encode);
            document.getElementById('sha256').innerText = Array.from(new Uint8Array(hash256)).map(b => b.toString(16).padStart(2, '0')).join(''); document.getElementById('sha512').innerText = Array.from(new Uint8Array(hash512)).map(b => b.toString(16).padStart(2, '0')).join('');
        }

        function convertUnits() {
            const val = parseFloat(document.getElementById('unitVal').value) || 0; const from = document.getElementById('unitFrom').value;
            let bytes = val; if(from === 'KB') bytes = val * 1024; if(from === 'MB') bytes = val * 1024**2; if(from === 'GB') bytes = val * 1024**3; if(from === 'TB') bytes = val * 1024**4;
            document.getElementById('outB').innerText = bytes.toLocaleString(); document.getElementById('outKB').innerText = (bytes / 1024).toLocaleString(undefined, {maximumFractionDigits:2}); document.getElementById('outMB').innerText = (bytes / 1024**2).toLocaleString(undefined, {maximumFractionDigits:2}); document.getElementById('outGB').innerText = (bytes / 1024**3).toLocaleString(undefined, {maximumFractionDigits:2}); document.getElementById('outTB').innerText = (bytes / 1024**4).toLocaleString(undefined, {maximumFractionDigits:4}); document.getElementById('outPB').innerText = (bytes / 1024**5).toLocaleString(undefined, {maximumFractionDigits:6});
        }

        function handleContactSubmit(e) {
            e.preventDefault();
            const myForm = e.target;
            const formData = new FormData(myForm);
            const btn = myForm.querySelector('button');
            const originalText = btn.innerHTML;
            btn.innerHTML = 'Sending...'; btn.disabled = true;
            // Netlify AJAX submission requires application/x-www-form-urlencoded
            const urlEncodedData = new URLSearchParams(formData).toString();
            fetch('/', {
                method: 'POST',
                headers: { "Content-Type": "application/x-www-form-urlencoded" },
                body: urlEncodedData
            })
            .then(() => {
                document.getElementById('toast').classList.remove('hidden'); 
                document.getElementById('toast-title').innerText = "Message Sent!"; 
                document.getElementById('toast-msg').innerText = "Thank you. I will get back to you shortly."; 
                btn.innerHTML = "Sent! <i class='fas fa-check'></i>";
                setTimeout(() => { 
                    myForm.reset(); btn.innerHTML = originalText; btn.disabled = false; 
                    document.getElementById('toast').classList.add('hidden'); switchTab('home'); 
                }, 3000);
            })
            .catch((error) => {
                document.getElementById('toast-title').innerText = "Error"; 
                document.getElementById('toast-msg').innerText = "Could not send message. Please try again."; 
                document.getElementById('toast').classList.remove('hidden'); 
                btn.innerHTML = "Failed";
                setTimeout(() => { btn.disabled = false; btn.innerHTML = originalText; document.getElementById('toast').classList.add('hidden'); }, 3000);
            });
        }

        // --- ENHANCED DROID V4.0 LOGIC (UPDATED) ---
        let isDraggingDroid = false;
        let droidOffsets = { x: 0, y: 0 };
        let idleTimer = null; // Timer for sleep mode
        const droidEl = document.getElementById('droid');

        function initDroid() {
            const eyes = document.querySelectorAll('.d-eye');
            const droidBody = document.getElementById('droid-body');

            // --- 1. SLEEP MODE (Eco-Sentry) ---
            const resetIdleTimer = () => {
                droidBody.classList.remove('sleeping'); // Wake up
                clearTimeout(idleTimer);
                // Go to sleep after 10 seconds of inactivity
                idleTimer = setTimeout(() => {
                    droidBody.classList.add('sleeping');
                }, 10000); 
            };
            
            // Listen for global mouse movement to wake/sleep droid
            document.addEventListener('mousemove', (e) => {
                resetIdleTimer(); // Wake up on mouse move
                
                if(isDraggingDroid) {
                    // Drag logic
                    droidEl.style.left = (e.clientX - droidOffsets.x) + 'px';
                    droidEl.style.top = (e.clientY - droidOffsets.y) + 'px';
                    droidEl.style.bottom = 'auto'; 
                    droidEl.style.right = 'auto';
                    return; 
                }
                
                // Eye tracking (Standard behavior)
                const rect = droidEl.getBoundingClientRect();
                const anchorX = rect.left + rect.width / 2; const anchorY = rect.top + rect.height / 2;
                const angle = Math.atan2(e.clientY - anchorY, e.clientX - anchorX);
                const distance = Math.min(Math.hypot(e.clientX - anchorX, e.clientY - anchorY), 20);
                const moveX = Math.cos(angle) * distance * 0.2; const moveY = Math.sin(angle) * distance * 0.2;
                eyes.forEach(eye => { eye.style.transform = `translate(${moveX}px, ${moveY}px)`; });
            });

            // --- 2. DRAG LOGIC (MUTED) ---
            droidEl.addEventListener('mousedown', (e) => {
                if(e.target.closest('.droid-hud')) return;
                isDraggingDroid = true;
                const rect = droidEl.getBoundingClientRect();
                droidOffsets.x = e.clientX - rect.left;
                droidOffsets.y = e.clientY - rect.top;
                droidEl.style.cursor = 'grabbing';
                // Removed botSpeak here to keep it mute
            });
            
            // Add touch support for mobile drag
            droidEl.addEventListener('touchstart', (e) => {
                if(e.target.closest('.droid-hud')) return;
                isDraggingDroid = true;
                const touch = e.touches[0];
                const rect = droidEl.getBoundingClientRect();
                droidOffsets.x = touch.clientX - rect.left;
                droidOffsets.y = touch.clientY - rect.top;
                // e.preventDefault(); // allow scrolling unless specifically dragging
            }, {passive: false});
            
            document.addEventListener('touchmove', (e) => {
                 if(isDraggingDroid) {
                    const touch = e.touches[0];
                    droidEl.style.left = (touch.clientX - droidOffsets.x) + 'px';
                    droidEl.style.top = (touch.clientY - droidOffsets.y) + 'px';
                    droidEl.style.bottom = 'auto'; 
                    droidEl.style.right = 'auto';
                    e.preventDefault(); // Stop scrolling while dragging robot
                 }
            }, {passive: false});
            
            document.addEventListener('touchend', () => { isDraggingDroid = false; });

            // --- 3. SINGLE CLICK (PETTING MODE - MUTED) ---
            // Single click triggers visual "petting" (hearts) but NO voice.
            droidEl.addEventListener('click', (e) => {
                // If the click is inside the HUD (the menu), don't trigger petting or close menu via this listener
                // (Menu closing is handled by the specific button clicks inside the menu)
                if (e.target.closest('.droid-hud')) return;
                
                // If turbo mode is active and user clicks droid (not dragging), reset turbo mode
                if (!isDraggingDroid && document.body.classList.contains('turbo-mode')) {
                    toggleTurboMode(); // This will land the rocket
                    return;
                }

                if (!isDraggingDroid) {
                     createHeartParticles(e); // Visual feedback
                     triggerRandomEmotion();  // Visual emotion change
                }
            });

            // --- 4. DOUBLE CLICK (MENU TOGGLE) ---
            // This replaces the old onclick logic
            droidEl.addEventListener('dblclick', (e) => {
                if (!isDraggingDroid && !e.target.closest('.droid-hud')) {
                     e.stopPropagation();
                     document.getElementById('bot-menu').classList.toggle('active');
                }
            });

            document.addEventListener('mouseup', () => {
                setTimeout(() => { isDraggingDroid = false; }, 100); 
                droidEl.style.cursor = 'grab';
            });
            
            resetIdleTimer(); // Start the sleep timer logic on load
        }

        // Function to create floating hearts on click
        function createHeartParticles(e) {
            const container = document.getElementById('droid');
            for(let i=0; i<3; i++) {
                const heart = document.createElement('div');
                heart.classList.add('heart-particle');
                heart.innerHTML = '';
                heart.style.left = (40 + (Math.random() * 40 - 20)) + 'px'; // Center roughly
                heart.style.top = '10px';
                heart.style.animationDelay = (i * 0.1) + 's';
                container.appendChild(heart);
                setTimeout(() => heart.remove(), 1000);
            }
        }

        function triggerRandomEmotion() {
            const emotions = ['happy', 'sad', 'angry', 'surprised'];
            const droidBody = document.getElementById('droid-body'); 
            
            // Clear previous emotions
            emotions.forEach(e => droidBody.classList.remove(e));
            
            const randomEmotion = emotions[Math.floor(Math.random() * emotions.length)];
            droidBody.classList.add(randomEmotion);
            
            // Revert after 2 seconds
            setTimeout(() => {
                droidBody.classList.remove(randomEmotion);
            }, 2000);
        }

        function toggleBotMenu(e) { 
            // This function is now only used by internal close buttons if needed,
            // or handled via the dblclick listener above.
            if(isDraggingDroid) return;
            e.stopPropagation(); 
            document.getElementById('bot-menu').classList.toggle('active'); 
        }
        
        function handleGlobalClick(e) { 
            // Close menu when clicking outside
            document.getElementById('bot-menu').classList.remove('active'); 
        }
        
        function droidDance() {
            const container = document.getElementById('droid'); 
            document.getElementById('droid-body').classList.add('dancing');
            botSpeak("Look at me go!");
            setTimeout(() => { document.getElementById('droid-body').classList.remove('dancing'); }, 5000);
        }

        // Updated Turbo Mode Feature with Rocket Animation and Landing
        function toggleTurboMode() {
            const container = document.getElementById('droid');
            const isRocket = container.classList.contains('rocket-active');
            
            if (!isRocket) {
                // Activate Rocket Mode
                botSpeak("Turbo Rockets Engaged! blasting off...");
                container.classList.add('rocket-active');
                document.body.classList.add('turbo-mode'); 
            } else {
                // Deactivate (Land)
                botSpeak("Landing gear deployed. Stabilizing.");
                container.classList.remove('rocket-active');
                document.body.classList.remove('turbo-mode');
            }
        }
        
        let recognition; let isListening = false;
        function toggleVoice(btn) {
            if (!('webkitSpeechRecognition' in window)) { botSpeak("Voice not supported."); return; }
            if (isListening) { stopListening(); return; }
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            recognition = new SpeechRecognition(); recognition.lang = 'en-US';
            recognition.onstart = function() { isListening = true; btn.classList.add('listening'); document.getElementById('bot-bubble').innerText="Listening... "; document.getElementById('bot-bubble').classList.add('show'); };
            recognition.onend = function() { stopListening(); };
            recognition.onresult = function(event) { processVoiceCommand(event.results[0][0].transcript.toLowerCase()); };
            recognition.start();
        }
        function stopListening() { if(recognition) recognition.stop(); isListening=false; document.getElementById('mic-btn').classList.remove('listening'); document.getElementById('bot-bubble').classList.remove('show'); }
        function processVoiceCommand(cmd) {
            if (cmd.includes('home')) { switchTab('home'); botSpeak("Navigating Home."); }
            else if (cmd.includes('project')) { switchTab('projects'); botSpeak("Loading Projects."); }
            else if (cmd.includes('tool')) { switchTab('tools'); botSpeak("Opening Tool Stack."); }
            else if (cmd.includes('about')) { switchTab('about'); botSpeak("Showing Profile."); }
            else if (cmd.includes('contact')) { switchTab('contact'); botSpeak("Opening Contact Form."); }
            else if (cmd.includes('scan') || cmd.includes('diagnostic')) runSystemScan();
            else if (cmd.includes('dance')) droidDance();
            else if (cmd.includes('turbo')) toggleTurboMode();
            else if (cmd.includes('joke')) tellJoke();
            else if (cmd.includes('dark')) { document.documentElement.classList.add('dark'); localStorage.setItem('theme', 'dark'); botSpeak("Dark mode enabled."); }
            else if (cmd.includes('light')) { document.documentElement.classList.remove('dark'); localStorage.setItem('theme', 'light'); botSpeak("Light mode enabled."); }
            else if (cmd.includes('top')) { document.getElementById('main-content').scrollTo({ top: 0, behavior: 'smooth' }); botSpeak("Scrolling to top."); }
            else botSpeak("Command not recognized.");
        }
        function runSystemScan() {
            document.getElementById('scanner').style.display='block'; botSpeak("Scanning system parameters...");
            setTimeout(() => { botSpeak("System Optimal."); document.getElementById('scanner').style.display='none'; }, 3000);
        }
        function botSpeak(text) {
            // Only speak if explicitly called (voice command, specific actions)
            // dragging and single click do NOT call this function anymore.
            const b=document.getElementById('bot-bubble'); b.innerText=text; b.classList.add('show'); setTimeout(()=>b.classList.remove('show'),4000);
            if('speechSynthesis' in window) window.speechSynthesis.speak(new SpeechSynthesisUtterance(text));
        }

        document.getElementById('main-content').addEventListener('scroll', () => {
            const el = document.getElementById('main-content'); document.getElementById('scroll-progress').style.width = ((el.scrollTop / (el.scrollHeight - el.clientHeight)) * 100) + '%';
        });

        document.addEventListener("DOMContentLoaded", () => {
             // MODIFIED: Ensure Light mode is default if no preference is set
             if (!localStorage.getItem('theme')) {
                 localStorage.setItem('theme', 'light');
                 document.documentElement.classList.remove('dark');
             } else {
                 if (localStorage.theme === 'dark') document.documentElement.classList.add('dark');
                 else document.documentElement.classList.remove('dark');
             }
             
             renderProjects(); renderTools(); renderBlogs(); typeWriter(); toolsTypeWriter(); setRandomQuote();
             setupObserver(); initDroid(); calcChmod(); populateCronSelects();
             switchTab(new URLSearchParams(window.location.search).get('tab') || 'home');
             setTimeout(() => { const b=document.getElementById('bot-bubble'); b.innerText="Online."; b.classList.add('show'); setTimeout(()=>b.classList.remove('show'),5000); }, 1000);
        });
    </script>
</body>
</html>